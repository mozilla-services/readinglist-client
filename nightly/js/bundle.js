!function t(e,n,r){function i(u,c){if(!n[u]){if(!e[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t){"use strict";var e=function(t){return t&&t.__esModule?t["default"]:t},n=e(t("react/addons")),r=e(t("./api")),i=t("./flux"),o=i.AuthStore,u=i.ArticleStore,c=i.stores,a=e(t("./components/App")),s="https://readinglist.dev.mozaws.net/v0",l=new r(s);c.register({authStore:new o(l),articleStore:new u(l)}),n.render(n.createElement(a,null),document.querySelector("#app"))},{"./api":53,"./components/App":56,"./flux":64,"react/addons":"react/addons"}],2:[function(t){(function(e){"use strict";if(e._6to5Polyfill)throw new Error("only one instance of 6to5/polyfill is allowed");e._6to5Polyfill=!0,t("core-js/shim"),t("regenerator-6to5/runtime")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":3,"regenerator-6to5/runtime":4}],3:[function(t,e){!function(t,n,r){"use strict";function i(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function o(t){return"function"==typeof t}function u(t,e,n){t&&!ln(t=n?t:t[he],Tn)&&An(t,Tn,e)}function c(t){return t==r?t===r?"Undefined":"Null":Ye.call(t).slice(8,-1)}function a(t){var e,n=c(t);return n==X&&(e=t[Tn])?ln(Ve,e)?"~"+e:e:n}function s(){for(var t=T(this),e=arguments.length,n=je(e),r=0,i=Bn._,o=!1;e>r;)(n[r]=arguments[r++])===i&&(o=!0);return function(){var r,u=this,c=arguments.length,a=0,s=0;if(!o&&!c)return f(t,n,u);if(r=n.slice(),o)for(;e>a;a++)r[a]===i&&(r[a]=arguments[s++]);for(;c>s;)r.push(arguments[s++]);return f(t,r,u)}}function l(t,e,n){if(T(t),~n&&e===r)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){var i=n===r;switch(0|e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3]);case 5:return i?t(e[0],e[1],e[2],e[3],e[4]):t.call(n,e[0],e[1],e[2],e[3],e[4])}return t.apply(n,e)}function d(t,e){var n=T(arguments.length<3?t:arguments[2])[he],r=tn(i(n)?n:We),o=Ze.call(t,r,e);return i(o)?o:r}function h(t){return fn(O(t))}function p(t){return t}function m(){return this}function v(t,e){return ln(t,e)?t[e]:void 0}function y(t){return N(t),an?cn(t).concat(an(t)):cn(t)}function g(t,e){for(var n,r=h(t),i=un(r),o=i.length,u=0;o>u;)if(r[n=i[u++]]===e)return n}function w(t){return ke(t).split(",")}function b(t){var e=1==t,n=2==t,i=3==t,o=4==t,u=6==t,c=5==t||u;return function(a){for(var s,f,d=Ae(O(this)),h=arguments[1],p=fn(d),m=l(a,h,3),v=j(p.length),y=0,g=e?je(v):n?[]:r;v>y;y++)if((c||y in p)&&(s=p[y],f=m(s,y,d),t))if(e)g[y]=f;else if(f)switch(t){case 3:return!0;case 5:return s;case 6:return y;case 2:g.push(s)}else if(o)return!1;return u?-1:i||o?o:g}}function x(t){return function(e){var n=h(this),r=j(n.length),i=k(arguments[1],r);if(t&&e!=e){for(;r>i;i++)if(_(n[i]))return t||i}else for(;r>i;i++)if((t||i in n)&&n[i]===e)return t||i;return!t&&-1}}function E(t,e){return"function"==typeof t?t:e}function _(t){return t!=t}function A(t){return isNaN(t)?0:xn(t)}function j(t){return t>0?wn(A(t),mn):0}function k(t,e){var t=A(t);return 0>t?gn(t+e,0):wn(t,e)}function C(t,e,n){var r=i(e)?function(t){return e[t]}:e;return function(e){return ke(n?e:this).replace(t,r)}}function P(t){return function(e){var n,i,o=ke(O(this)),u=A(e),c=o.length;return 0>u||u>=c?t?"":r:(n=o.charCodeAt(u),55296>n||n>56319||u+1===c||(i=o.charCodeAt(u+1))<56320||i>57343?t?o.charAt(u):n:t?o.slice(u,u+2):(n-55296<<10)+(i-56320)+65536)}}function S(t,e,n){if(!t)throw Ie(n?e+n:e)}function O(t){if(t==r)throw Ie("Function called on null or undefined");return t}function T(t){return S(o(t),t," is not a function!"),t}function N(t){return S(i(t),t," is not an object!"),t}function L(t,e,n){S(t instanceof e,n,": use the 'new' operator!")}function R(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function I(t,e,n){return t[e]=n,t}function F(t){return En?function(e,n,r){return rn(e,n,R(t,r))}:I}function q(t){return se+"("+t+")_"+(++_n+bn())[me](36)}function M(t,e){return Le&&Le[t]||(e?Le:kn)(se+Je+t)}function D(t,e){for(var n in e)An(t,n,e[n]);return t}function U(t){(n||!Ke(t))&&rn(t,Sn,{configurable:!0,get:m})}function z(t,e){An(t,On,e),Nn&&An(t,be,e)}function Q(t,e,n,r){t[he]=tn(r||qn,{next:R(1,n)}),u(t,e+" Iterator")}function B(t,e,r,i){var o=t[he],c=v(o,On)||v(o,be)||i&&v(o,i)||r;if(n&&(z(o,c),c!==r)){var a=en(c.call(new t));u(a,e+" Iterator",!0),ln(o,be)&&z(a,m)}return Fn[e]=c,Fn[e+" Iterator"]=m,c}function H(t,e,n,r,i,o){function u(t){return function(){return new n(this,t)}}Q(n,e,r);var c=u(Rn+In),a=u(In);i==In?a=B(t,e,a,"values"):c=B(t,e,c,"entries"),i&&V(Jn+Wn*Dn,e,{entries:c,keys:o?a:u(Rn),values:a})}function W(t,e){return{value:e,done:!!t}}function G(e){var n=Ae(e),r=t[se],i=(r&&r[we]||be)in n;return i||On in n||ln(Fn,a(n))}function $(e){var n=t[se],r=e[n&&n[we]||be],i=r||e[On]||Fn[a(e)];return N(i.call(e))}function J(t,e,n){return n?f(t,e):t(e)}function K(t,e,n,r){for(var i,o=$(t),u=l(n,r,e?2:1);!(i=o.next()).done;)if(J(u,i.value,e)===!1)return}function V(e,r,i){var u,c,a,s,f=e&Gn,d=f?t:e&$n?t[r]:(t[r]||We)[he],h=f?Qn:Qn[r]||(Qn[r]={});f&&(i=r);for(u in i)c=!(e&Wn)&&d&&u in d&&(!o(d[u])||Ke(d[u])),a=(c?d:i)[u],e&Kn&&c?s=l(a,t):e&Vn&&!n&&d[u]==a?(s=function(t){return this instanceof a?new a(t):a(t)},s[he]=a[he]):s=e&Jn&&o(a)?l(Xe,a):a,h[u]!=a&&An(h,u,s),n&&d&&!c&&(f?d[u]=a:delete d[u]&&An(d,u,a))}var Y,X="Object",Z="Function",te="Array",ee="String",ne="Number",re="RegExp",ie="Date",oe="Map",ue="Set",ce="WeakMap",ae="WeakSet",se="Symbol",le="Promise",fe="Math",de="Arguments",he="prototype",pe="constructor",me="toString",ve=me+"Tag",ye="hasOwnProperty",ge="forEach",we="iterator",be="@@"+we,xe="process",Ee="createElement",_e=t[Z],Ae=t[X],je=t[te],ke=t[ee],Ce=t[ne],Pe=t[re],Se=(t[ie],t[oe]),Oe=t[ue],Te=t[ce],Ne=t[ae],Le=t[se],Re=t[fe],Ie=t.TypeError,Fe=t.setTimeout,qe=t.setImmediate,Me=t.clearImmediate,De=t[xe],Ue=De&&De.nextTick,ze=t.document,Qe=ze&&ze.documentElement,Be=(t.navigator,t.define),He=je[he],We=Ae[he],Ge=_e[he],$e=1/0,Je=".",Ke=l(/./.test,/\[native code\]\s*\}\s*$/,1),Ve={Undefined:1,Null:1,Array:1,String:1,Arguments:1,Function:1,Error:1,Boolean:1,Number:1,Date:1,RegExp:1},Ye=We[me],Xe=Ge.call,Ze=Ge.apply,tn=Ae.create,en=Ae.getPrototypeOf,nn=Ae.setPrototypeOf,rn=Ae.defineProperty,on=(Ae.defineProperties,Ae.getOwnPropertyDescriptor),un=Ae.keys,cn=Ae.getOwnPropertyNames,an=Ae.getOwnPropertySymbols,sn=Ae.isFrozen,ln=l(Xe,We[ye],2),fn=Ae,dn=Ae.assign||function(t){for(var e=Ae(O(t)),n=arguments.length,r=1;n>r;)for(var i,o=fn(arguments[r++]),u=un(o),c=u.length,a=0;c>a;)e[i=u[a++]]=o[i];return e},hn=He.push,pn=(He.unshift,He.slice,He.splice,He.indexOf,He[ge]),mn=9007199254740991,vn=Re.ceil,yn=Re.floor,gn=Re.max,wn=Re.min,bn=Re.random,xn=Re.trunc||function(t){return(t>0?yn:vn)(t)},En=!!function(){try{return rn({},Je,We)}catch(t){}}(),_n=0,An=F(1),jn=Le?I:An,kn=Le||q,Cn=M("unscopables"),Pn=He[Cn]||{},Sn=M("species"),On=M(we),Tn=M(ve),Nn=be in He,Ln=kn("iter"),Rn=1,In=2,Fn={},qn={},Mn=On in He,Dn="keys"in He&&!("next"in[].keys());z(qn,m);var Un,zn=c(De)==xe,Qn={},Bn=n?t:Qn,Hn=t.core,Wn=1,Gn=2,$n=4,Jn=8,Kn=16,Vn=32;"undefined"!=typeof e&&e.exports?e.exports=Qn:o(Be)&&Be.amd?Be(function(){return Qn}):Un=!0,(Un||n)&&(Qn.noConflict=function(){return t.core=Hn,Qn},t.core=Qn),V(Gn+Wn,{global:t}),!function(t,e,n,r){Ke(Le)||(Le=function(e){S(!(this instanceof Le),se+" is not a "+pe);var i=q(e),o=jn(tn(Le[he]),t,i);return n[i]=o,En&&r&&rn(We,i,{configurable:!0,set:function(t){An(this,i,t)}}),o},An(Le[he],me,function(){return this[t]})),V(Gn+Vn,{Symbol:Le});var i={"for":function(t){return ln(e,t+="")?e[t]:e[t]=Le(t)},iterator:On,keyFor:s.call(g,e),species:Sn,toStringTag:Tn=M(ve,!0),unscopables:Cn,pure:kn,set:jn,useSetter:function(){r=!0},useSimple:function(){r=!1}};pn.call(w("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(t){i[t]=M(t)}),V($n,se,i),u(Le,se),V($n+Wn*!Ke(Le),X,{getOwnPropertyNames:function(t){for(var e,r=cn(h(t)),i=[],o=0;r.length>o;)ln(n,e=r[o++])||i.push(e);return i},getOwnPropertySymbols:function(t){for(var e,r=cn(h(t)),i=[],o=0;r.length>o;)ln(n,e=r[o++])&&i.push(n[e]);return i}})}(kn("tag"),{},{},!0),!function(e,o,s,f){function d(t){return o(t=+t)&&0!=t?0>t?-d(-t):q(t+M(t*t+1)):t}function p(t){return 0==(t=+t)?t:t>-1e-6&&1e-6>t?t+t*t/2:F(t)-1}function m(t){if(c(t)==re)throw Ie()}function v(t,e){var n=Ae[t],r=Qn[X][t],o=0,u={};if(!r||Ke(r)){u[t]=1==e?function(t){return i(t)?n(t):t}:2==e?function(t){return i(t)?n(t):!0}:3==e?function(t){return i(t)?n(t):!1}:4==e?function(t,e){return n(h(t),e)}:function(t){return n(h(t))};try{n(Je)}catch(c){o=1}V($n+Wn*o,X,u)}}var y=t.RangeError,g=Ce.isInteger||function(t){return!i(t)&&o(t)&&yn(t)===t},x=Re.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1},T=Re.E,L=Re.pow,I=Re.abs,F=Re.exp,q=Re.log,M=Re.sqrt,D=ke.fromCharCode,z=P(!0),Q={assign:dn,is:function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}};if("__proto__"in We&&function(t,e){try{e=l(Xe,on(We,"__proto__").set,2),e({},He)}catch(n){t=!0}Q.setPrototypeOf=nn=nn||function(n,r){return N(n),S(null===r||i(r),r,": can't set as prototype!"),t?n.__proto__=r:e(n,r),n}}(),V($n,X,Q),V($n,ne,{EPSILON:L(2,-52),isFinite:function(t){return"number"==typeof t&&o(t)},isInteger:g,isNaN:_,isSafeInteger:function(t){return g(t)&&I(t)<=mn},MAX_SAFE_INTEGER:mn,MIN_SAFE_INTEGER:-mn,parseFloat:parseFloat,parseInt:parseInt}),V($n,fe,{acosh:function(t){return(t=+t)<1?0/0:o(t)?q(t/T+M(t+1)*M(t-1)/T)+1:t},asinh:d,atanh:function(t){return 0==(t=+t)?t:q((1+t)/(1-t))/2},cbrt:function(t){return x(t=+t)*L(I(t),1/3)},clz32:function(t){return(t>>>=0)?32-t[me](2).length:32},cosh:function(t){return(F(t=+t)+F(-t))/2},expm1:p,fround:function(t){return new Float32Array([t])[0]},hypot:function(){for(var t,e=0,n=arguments.length,r=n,i=je(n),o=-$e;n--;){if(t=i[n]=+arguments[n],t==$e||t==-$e)return $e;t>o&&(o=t)}for(o=t||1;r--;)e+=L(i[r]/o,2);return o*M(e)},imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,u=n&i;return 0|o*u+((n&r>>>16)*u+o*(n&i>>>16)<<16>>>0)},log1p:function(t){return(t=+t)>-1e-8&&1e-8>t?t-t*t/2:q(1+t)},log10:function(t){return q(t)/Re.LN10},log2:function(t){return q(t)/Re.LN2},sign:x,sinh:function(t){return I(t=+t)<1?(p(t)-p(-t))/2:(F(t-1)-F(-t-1))*(T/2)},tanh:function(t){var e=p(t=+t),n=p(-t);return e==$e?1:n==$e?-1:(e-n)/(F(t)+F(-t))},trunc:xn}),u(Re,fe,!0),V($n,ee,{fromCodePoint:function(){for(var t,e=[],n=arguments.length,r=0;n>r;){if(t=+arguments[r++],k(t,1114111)!==t)throw y(t+" is not a valid code point");e.push(65536>t?D(t):D(((t-=65536)>>10)+55296,t%1024+56320))}return e.join("")},raw:function(t){for(var e=h(t.raw),n=j(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(ke(e[o++])),r>o&&i.push(ke(arguments[o]));return i.join("")}}),V(Jn,ee,{codePointAt:P(!1),endsWith:function(t){m(t);var e=ke(O(this)),n=arguments[1],i=j(e.length),o=n===r?i:wn(j(n),i);return t+="",e.slice(o-t.length,o)===t},includes:function(t){return m(t),!!~ke(O(this)).indexOf(t,arguments[1])},repeat:function(t){var e=ke(O(this)),n="",r=A(t);if(0>r||r==$e)throw y("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},startsWith:function(t){m(t);var e=ke(O(this)),n=j(wn(arguments[1],e.length));return t+="",e.slice(n,n+t.length)===t}}),H(ke,ee,function(t){jn(this,Ln,{o:ke(t),i:0})},function(){var t,e=this[Ln],n=e.o,r=e.i;return r>=n.length?W(1):(t=z.call(n,r),e.i+=t.length,W(0,t))}),V($n,te,{from:function(t){var e,n=Ae(O(t)),i=new(E(this,je)),o=arguments[1],u=arguments[2],c=o!==r,a=c?l(o,u,2):r,s=0;if(G(n))for(var f,d=$(n);!(f=d.next()).done;s++)i[s]=c?a(f.value,s):f.value;else for(e=j(n.length);e>s;s++)i[s]=c?a(n[s],s):n[s];return i.length=s,i},of:function(){for(var t=0,e=arguments.length,n=new(E(this,je))(e);e>t;)n[t]=arguments[t++];return n.length=e,n}}),V(Jn,te,{copyWithin:function(t,e){var n=Ae(O(this)),i=j(n.length),o=k(t,i),u=k(e,i),c=arguments[2],a=c===r?i:k(c,i),s=wn(a-u,i-o),l=1;for(o>u&&u+s>o&&(l=-1,u=u+s-1,o=o+s-1);s-->0;)u in n?n[o]=n[u]:delete n[o],o+=l,u+=l;return n},fill:function(t){for(var e=Ae(O(this)),n=j(e.length),i=k(arguments[1],n),o=arguments[2],u=o===r?n:k(o,n);u>i;)e[i++]=t;return e},find:b(5),findIndex:b(6)}),H(je,te,function(t,e){jn(this,Ln,{o:h(t),i:0,k:e})},function(){var t=this[Ln],e=t.o,n=t.k,i=t.i++;return!e||i>=e.length?(t.o=r,W(1)):n==Rn?W(0,i):n==In?W(0,e[i]):W(0,[i,e[i]])},In),Fn[de]=Fn[te],u(t.JSON,"JSON",!0),v("freeze",1),v("seal",1),v("preventExtensions",1),v("isFrozen",2),v("isSealed",2),v("isExtensible",3),v("getOwnPropertyDescriptor",4),v("getPrototypeOf"),v("keys"),v("getOwnPropertyNames"),n){if(s[Tn]=Je,c(s)!=Je&&An(We,me,function(){return"[object "+a(this)+"]"}),f in Ge||rn(Ge,f,{configurable:!0,get:function(){var t=ke(this).match(/^\s*function ([^ (]*)/),e=t?t[1]:"";return ln(this,f)||rn(this,f,R(5,e)),e},set:function(t){ln(this,f)||rn(this,f,R(0,t))}}),En&&!function(){try{return"/a/i"==Pe(/a/g,"i")}catch(t){}}()){var B=Pe;Pe=function(t,e){return new B(c(t)==re&&e!==r?t.source:t,e)},pn.call(cn(B),function(t){t in Pe||rn(Pe,t,{configurable:!0,get:function(){return B[t]},set:function(e){B[t]=e}})}),e[pe]=Pe,Pe[he]=e,An(t,re,Pe)}"g"!=/./g.flags&&rn(e,"flags",{configurable:!0,get:C(/^.*\/(\w*)$/,"$1")}),pn.call(w("find,findIndex,fill,copyWithin,entries,keys,values"),function(t){Pn[t]=!0}),Cn in He||An(He,Cn,Pn)}U(Pe),U(je)}(Pe[he],isFinite,{},"name"),o(qe)&&o(Me)||function(e){function n(t){if(ln(m,t)){var e=m[t];delete m[t],e()}}function r(t){n(t.data)}var i,u,c,a=t.postMessage,d=t.addEventListener,h=t.MessageChannel,p=0,m={};qe=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++p]=function(){f(o(t)?t:_e(t),e)},i(p),p},Me=function(t){delete m[t]},zn?i=function(t){Ue(s.call(n,t))}:d&&o(a)&&!t.importScripts?(i=function(t){a(t,"*")},d("message",r,!1)):o(h)?(u=new h,c=u.port2,u.port1.onmessage=r,i=l(c.postMessage,c,1)):i=ze&&e in ze[Ee]("script")?function(t){Qe.appendChild(ze[Ee]("script"))[e]=function(){Qe.removeChild(this),n(t)}}:function(t){Fe(s.call(n,t),0)}}("onreadystatechange"),V(Gn+Kn,{setImmediate:qe,clearImmediate:Me}),!function(t,e){o(t)&&o(t.resolve)&&t.resolve(e=new t(function(){}))==e||function(e,n){function u(t){var e;return i(t)&&(e=t.then),o(e)?e:!1}function c(t){var n=t.chain;n.length&&e(function(){for(var e=t.msg,r=1==t.state,i=0;n.length>i;)!function(t){var n,i,o=r?t.ok:t.fail;try{o?(n=o===!0?e:o(e),n===t.P?t.rej(Ie(le+"-chain cycle")):(i=u(n))?i.call(n,t.res,t.rej):t.res(n)):t.rej(e)}catch(c){t.rej(c)}}(n[i++]);n.length=0})}function a(t){var e,n,r=this;if(!r.done){r.done=!0,r=r.def||r;try{(e=u(t))?(n={def:r,done:!1},e.call(t,l(a,n,1),l(s,n,1))):(r.msg=t,r.state=1,c(r))}catch(i){s.call(n||{def:r,done:!1},i)}}}function s(t){var e=this;e.done||(e.done=!0,e=e.def||e,e.msg=t,e.state=2,c(e))}function f(t){var e=N(t)[Sn];return e!=r?e:t}t=function(e){T(e),L(this,t,le);var i={chain:[],state:0,done:!1,msg:r};An(this,n,i);try{e(l(a,i,1),l(s,i,1))}catch(o){s.call(i,o)}},D(t[he],{then:function(e,i){var u=N(N(this)[pe])[Sn],a={ok:o(e)?e:!0,fail:o(i)?i:!1},s=a.P=new(u!=r?u:t)(function(t,e){a.res=T(t),a.rej=T(e)}),l=this[n];return l.chain.push(a),l.state&&c(l),s},"catch":function(t){return this.then(r,t)}}),D(t,{all:function(t){var e=f(this),n=[];return new e(function(r,i){K(t,!1,hn,n);var o=n.length,u=je(o);o?pn.call(n,function(t,n){e.resolve(t).then(function(t){u[n]=t,--o||r(u)},i)}):r(u)})},race:function(t){var e=f(this);return new e(function(n,r){K(t,!1,function(t){e.resolve(t).then(n,r)})})},reject:function(t){return new(f(this))(function(e,n){n(t)})},resolve:function(t){return i(t)&&n in t&&en(t)===this[he]?t:new(f(this))(function(e){e(t)})}})}(Ue||qe,kn("def")),u(t,le),U(t),V(Gn+Wn*!Ke(t),{Promise:t})}(t[le]),!function(){function t(t,e,i,o,c,a){function s(t,e){return e!=r&&K(e,c,t[h],t),t}function l(t,e){var r=p[t];n&&(p[t]=function(t,n){var i=r.call(this,0===t?0:t,n);return e?this:i})}var h=c?"set":"add",p=t&&t[he],w={};if(Ke(t)&&(a||!Dn&&ln(p,ge)&&ln(p,"entries"))){var b,x=t,E=new t,_=E[h](a?{}:-0,1);Mn&&t.length||(t=function(n){return L(this,t,e),s(new x,n)},t[he]=p,n&&(p[pe]=t)),a||E[ge](function(t,e){b=1/e===-$e}),b&&(l("delete"),l("has"),c&&l("get")),(b||_!==E)&&l(h,!0)}else t=a?function(n){L(this,t,e),jn(this,f,g++),s(this,n)}:function(n){var i=this;L(i,t,e),jn(i,d,tn(null)),jn(i,y,0),jn(i,m,r),jn(i,v,r),s(i,n)},D(D(t[he],i),o),a||rn(t[he],"size",{get:function(){return O(this[y])}});return u(t,e),U(t),w[e]=t,V(Gn+Vn+Wn*!Ke(t),w),a||H(t,e,function(t,e){jn(this,Ln,{o:t,k:e})},function(){for(var t=this[Ln],e=t.k,n=t.l;n&&n.r;)n=n.p;return t.o&&(t.l=n=n?n.n:t.o[v])?e==Rn?W(0,n.k):e==In?W(0,n.v):W(0,[n.k,n.v]):(t.o=r,W(1))},c?Rn+In:In,!c),t}function e(t,e){if(!i(t))return("string"==typeof t?"S":"P")+t;if(sn(t))return"F";if(!ln(t,f)){if(!e)return"E";An(t,f,++g)}return"O"+t[f]}function o(t,n){var r,i=e(n);if("F"!=i)return t[d][i];for(r=t[v];r;r=r.n)if(r.k==n)return r}function c(t,n,i){var u,c,a=o(t,n);return a?a.v=i:(t[m]=a={i:c=e(n,!0),k:n,v:i,p:u=t[m],n:r,r:!1},t[v]||(t[v]=a),u&&(u.n=a),t[y]++,"F"!=c&&(t[d][c]=a)),t}function a(t,e,n){return sn(N(e))?s(t).set(e,n):(ln(e,h)||An(e,h,{}),e[h][t[f]]=n),t}function s(t){return t[p]||An(t,p,new Se)[p]}var f=kn("uid"),d=kn("O1"),h=kn("weak"),p=kn("leak"),m=kn("last"),v=kn("first"),y=En?kn("size"):"size",g=0,b={},x={clear:function(){for(var t=this,e=t[d],n=t[v];n;n=n.n)n.r=!0,n.p=n.n=r,delete e[n.i];t[v]=t[m]=r,t[y]=0},"delete":function(t){var e=this,n=o(e,t);if(n){var r=n.n,i=n.p;delete e[d][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e[v]==n&&(e[v]=r),e[m]==n&&(e[m]=i),e[y]--}return!!n},forEach:function(t){for(var e,n=l(t,arguments[1],3);e=e?e.n:this[v];)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!o(this,t)}};Se=t(Se,oe,{get:function(t){var e=o(this,t);return e&&e.v},set:function(t,e){return c(this,0===t?0:t,e)}},x,!0),Oe=t(Oe,ue,{add:function(t){return c(this,t=0===t?0:t,t)}},x);var E={"delete":function(t){return i(t)?sn(t)?s(this)["delete"](t):ln(t,h)&&ln(t[h],this[f])&&delete t[h][this[f]]:!1},has:function(t){return i(t)?sn(t)?s(this).has(t):ln(t,h)&&ln(t[h],this[f]):!1}};Te=t(Te,ce,{get:function(t){if(i(t)){if(sn(t))return s(this).get(t);if(ln(t,h))return t[h][this[f]]}},set:function(t,e){return a(this,t,e)}},E,!0,!0),n&&En&&7!=new Te([[Ae.freeze(b),7]]).get(b)&&pn.call(w("delete,has,get,set"),function(t){var e=Te[he][t];Te[he][t]=function(n,r){if(i(n)&&sn(n)){var o=s(this)[t](n,r);return"set"==t?this:o}return e.call(this,n,r)}}),Ne=t(Ne,ae,{add:function(t){return a(this,t,!0)}},E,!1,!0)}(),!function(){function t(t){var e,n=[];for(e in t)n.push(e);jn(this,Ln,{o:t,a:n,i:0})}function e(t){return function(e){N(e);try{return t.apply(r,arguments),!0}catch(n){return!1}}}function n(t,e){var o,u=arguments.length<3?t:arguments[2],c=on(N(t),e);return c?c.get?c.get.call(u):c.value:i(o=en(t))?n(o,e,u):r}function o(t,e,n){var r,u=arguments.length<4?t:arguments[3],c=on(N(t),e);if(c){if(c.writable===!1)return!1;if(c.set)return c.set.call(u,n),!0}return i(r=en(t))?o(r,e,n,u):(c=on(u,e)||R(0),c.value=n,rn(u,e,c),!0)}Q(t,X,function(){var t,e=this[Ln],n=e.a;do if(e.i>=n.length)return W(1);while(!((t=n[e.i++])in e.o));return W(0,t)});var u=Ae.isExtensible||p,c={apply:l(Xe,Ze,3),construct:d,defineProperty:e(rn),deleteProperty:function(t,e){var n=on(N(t),e);return n&&!n.configurable?!1:delete t[e]},enumerate:function(e){return new t(N(e))},get:n,getOwnPropertyDescriptor:function(t,e){return on(N(t),e)},getPrototypeOf:function(t){return en(N(t))},has:function(t,e){return e in t},isExtensible:function(t){return!!u(N(t))},ownKeys:y,preventExtensions:e(Ae.preventExtensions||p),set:o};nn&&(c.setPrototypeOf=function(t,e){return nn(N(t),e),!0}),V(Gn,{Reflect:{}}),V($n,"Reflect",c)}(),!function(){function t(t){return function(e){var n,r=h(e),i=un(e),o=i.length,u=0,c=je(o);if(t)for(;o>u;)c[u]=[n=i[u++],r[n]];else for(;o>u;)c[u]=r[i[u++]];return c}}V(Jn,te,{includes:x(!0)}),V(Jn,ee,{at:P(!0)}),V($n,X,{values:t(!1),entries:t(!0)}),V($n,re,{escape:C(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(t){function e(t){if(t){var e=t[he];An(e,Y,e.get),An(e,n,e.set),An(e,r,e["delete"])}}Y=M(t+"Get",!0);var n=M(t+ue,!0),r=M(t+"Delete",!0);V($n,se,{referenceGet:Y,referenceSet:n,referenceDelete:r}),An(Ge,Y,m),e(Se),e(Te)}("reference"),!function(t){!n||!t||On in t[he]||An(t[he],On,Fn[te]),Fn.NodeList=Fn[te]}(t.NodeList),!function(t){function e(e,n){pn.call(w(e),function(e){e in He&&(t[e]=l(Xe,He[e],n))})}e("pop,reverse,shift,keys,values,entries",1),e("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),e("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),V($n,te,t)}({})}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!0)},{}],4:[function(t,e){(function(t){!function(t){"use strict";function n(t,e,n,r){return new u(t,e,n||null,r||[])}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function u(t,e,n,i){function o(e,i){if(a===w)throw new Error("Generator is already running");if(a===b)return f();for(;;){var o=c.delegate;if(o){var u=r(o.iterator[e],o.iterator,i);if("throw"===u.type){c.delegate=null,e="throw",i=u.arg;continue}e="next",i=d;var s=u.arg;if(!s.done)return a=g,s;c[o.resultName]=s.value,c.next=o.nextLoc,c.delegate=null}if("next"===e){if(a===y&&"undefined"!=typeof i)throw new TypeError("attempt to send "+JSON.stringify(i)+" to newborn generator");a===g?c.sent=i:delete c.sent}else if("throw"===e){if(a===y)throw a=b,i;c.dispatchException(i)&&(e="next",i=d)}else"return"===e&&c.abrupt("return",i);a=w;var u=r(t,n,c);if("normal"===u.type){a=c.done?b:g;var s={value:u.arg,done:c.done};if(u.arg!==x)return s;c.delegate&&"next"===e&&(i=d)}else"throw"===u.type&&(a=b,"next"===e?c.dispatchException(u.arg):i=u.arg)}}var u=e?Object.create(e.prototype):this,c=new s(i),a=y;return u.next=o.bind(u,"next"),u["throw"]=o.bind(u,"throw"),u["return"]=o.bind(u,"return"),u}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2]),this.tryEntries.push(e)}function a(t,e){var n=t.completion||{};n.type=0===e?"normal":"return",delete n.arg,t.completion=n}function s(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset()}function l(t){if(t){var e=t[p];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(h.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=d,i.done=!0,i};return r.next=r}}return{next:f}}function f(){return{value:d,done:!0}}var d,h=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator",m="object"==typeof e,v=t.regeneratorRuntime;if(v)return void(m&&(e.exports=v));v=t.regeneratorRuntime=m?e.exports:{},v.wrap=n;var y="suspendedStart",g="suspendedYield",w="executing",b="completed",x={},E=o.prototype=u.prototype;i.prototype=E.constructor=o,o.constructor=i,i.displayName="GeneratorFunction",v.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===i||"GeneratorFunction"===(e.displayName||e.name):!1},v.mark=function(t){return t.__proto__=o,t.prototype=Object.create(E),t},v.async=function(t,e,i,o){return new Promise(function(u,c){function a(t){var e=r(this,null,t);if("throw"===e.type)return void c(e.arg);var n=e.arg;n.done?u(n.value):Promise.resolve(n.value).then(l,f)}var s=n(t,e,i,o),l=a.bind(s.next),f=a.bind(s["throw"]);l()})},E[p]=function(){return this},E.toString=function(){return"[object Generator]"},v.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},v.values=l,s.prototype={constructor:s,reset:function(){this.prev=0,this.next=0,this.sent=d,this.done=!1,this.delegate=null,this.tryEntries.forEach(a);for(var t,e=0;h.call(this,t="t"+e)||20>e;++e)this[t]=null},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var u=h.call(i,"catchLoc"),c=h.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},_findFinallyEntry:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&(n.finallyLoc===t||this.prev<n.finallyLoc))return n}},abrupt:function(t,e){var n=this._findFinallyEntry(),r=n?n.completion:{};return r.type=t,r.arg=e,n?this.next=n.finallyLoc:this.complete(r),x},complete:function(t){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type&&(this.rval=t.arg,this.next="end"),x},finish:function(t){var e=this._findFinallyEntry(t);return this.complete(e.completion)},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;a(n,e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:l(t),resultName:e,nextLoc:n},x}}}("object"==typeof t?t:"object"==typeof window?window:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e){e.exports=t("./lib/6to5/polyfill")},{"./lib/6to5/polyfill":2}],6:[function(t,e){function n(){if(!u){u=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}u=!1}}function r(){}var i=e.exports={},o=[],u=!1;i.nextTick=function(t){o.push(t),u||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],7:[function(t,e){!function(t,e){"use strict";var n;t(function(t){function r(t,e){var n,r,i,o;if(n=t,i={},e){for(r in e)o=new RegExp("\\{"+r+"\\}"),o.test(n)?n=n.replace(o,encodeURIComponent(e[r]),"g"):i[r]=e[r];for(r in i)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==i[r]&&void 0!==i[r]&&(n+="=",n+=encodeURIComponent(i[r]))}return n}function i(t,e){return 0===t.indexOf(e)}function o(t,e){return this instanceof o?void(t instanceof o?(this._template=t.template,this._params=u({},this._params,e)):(this._template=(t||"").toString(),this._params=e||{})):new o(t,e)}var u,c,a,s,l;return u=t("./util/mixin"),a=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,s=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,l=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(t,e){return new o(this._template+t,u({},this._params,e))},fullyQualify:function(){if(!e)return this;if(this.isFullyQualified())return this;var t=this._template;return i(t,"//")?t=c.protocol+t:i(t,"/")?t=c.origin+t:this.isAbsolute()||(t=c.origin+c.pathname.substring(0,c.pathname.lastIndexOf("/")+1)),-1===t.indexOf("/",8)&&(t+="/"),new o(t,this._params)},isAbsolute:function(){return s.test(this.build())},isFullyQualified:function(){return l.test(this.build())},isCrossOrigin:function(){if(!c)return!0;var t=this.parts();return t.protocol!==c.protocol||t.hostname!==c.hostname||t.port!==c.port},parts:function(){var t,e;return t=this.fullyQualify().build().match(a),e={href:t[0],protocol:t[1],host:t[3]||"",hostname:t[4]||"",port:t[6],pathname:t[7]||"",search:t[8]||"",hash:t[9]||""},e.origin=e.protocol+"//"+e.host,e.port=e.port||("https:"===e.protocol?"443":"http:"===e.protocol?"80":""),e},build:function(t){return r(this._template,u({},this._params,t))},toString:function(){return this.build()}},c=e?new o(e.href).parts():n,o})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":47}],8:[function(t,e){!function(t){"use strict";t(function(t){var e=t("./client/default"),n=t("./client/xhr");return e.setPlatformDefaultClient(n),e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./client/default":10,"./client/xhr":11}],9:[function(t,e){!function(t){"use strict";t(function(){return function(t,e){return e&&(t.skip=function(){return e}),t.wrap=function(e,n){return e(t,n)},t.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),t.wrap.apply(this,arguments)},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],10:[function(t,e){!function(t){"use strict";var e;t(function(t){function n(){return i.apply(e,arguments)}var r,i,o;return r=t("../client"),n.setDefaultClient=function(t){i=t},n.getDefaultClient=function(){return i},n.resetDefaultClient=function(){i=o},n.setPlatformDefaultClient=function(t){if(o)throw new Error("Unable to redefine platformDefaultClient");i=o=t},r(n)})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../client":9}],11:[function(t,e){!function(t,e){"use strict";t(function(t){function n(t){var e={};return t?(t.trim().split(s).forEach(function(t){var n,r,i;n=t.indexOf(":"),r=u(t.substring(0,n).trim()),i=t.substring(n+1).trim(),e[r]?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}),e):e}function r(t,e){return Object.keys(e||{}).forEach(function(n){if(e.hasOwnProperty(n)&&n in t)try{t[n]=e[n]}catch(r){}}),t}var i,o,u,c,a,s;return i=t("when"),o=t("../UrlBuilder"),u=t("../util/normalizeHeaderName"),c=t("../util/responsePromise"),a=t("../client"),s=/[\r|\n]+/,a(function(t){return c.promise(function(i,u){var c,a,s,l,f,d,h,p;if(t="string"==typeof t?{path:t}:t||{},h={request:t},t.canceled)return h.error="precanceled",void u(h);if(p=t.engine||e.XMLHttpRequest,!p)return void u({request:t,error:"xhr-not-available"});f=t.entity,t.method=t.method||(f?"POST":"GET"),a=t.method,s=new o(t.path||"",t.params).build();try{c=h.raw=new p,r(c,t.mixin),c.open(a,s,!0),r(c,t.mixin),l=t.headers;for(d in l)("Content-Type"!==d||"multipart/form-data"!==l[d])&&c.setRequestHeader(d,l[d]);t.canceled=!1,t.cancel=function(){t.canceled=!0,c.abort(),u(h)},c.onreadystatechange=function(){t.canceled||c.readyState===(p.DONE||4)&&(h.status={code:c.status,text:c.statusText},h.headers=n(c.getAllResponseHeaders()),h.entity=c.responseText,h.status.code>0?i(h):setTimeout(function(){i(h)},0))};try{c.onerror=function(){h.error="loaderror",u(h)}}catch(m){}c.send(f)}catch(m){h.error="loaderror",u(h)}})})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":7,"../client":9,"../util/normalizeHeaderName":48,"../util/responsePromise":49,when:43}],12:[function(t,e){!function(t){"use strict";t(function(t){function e(t){return t}function n(t){return t}function r(t){return t}function i(t){return f.promise(function(e,n){t.forEach(function(t){f(t,e,n)
})})}function o(t){return this instanceof o?void a(this,t):new o(t)}function u(t){var u,a,d,h;return t=t||{},u=t.init||e,a=t.request||n,d=t.success||t.response||r,h=t.error||function(){return f((t.response||r).apply(this,arguments),f.reject,f.reject)},function(e,n){function r(t){var u,c;return u={},c={arguments:Array.prototype.slice.call(arguments),client:r},t="string"==typeof t?{path:t}:t||{},t.originator=t.originator||r,s(a.call(u,t,n,c),function(t){var r,a,s;return s=e,t instanceof o&&(a=t.abort,s=t.client||s,r=t.response,t=t.request),r=r||f(t,function(t){return f(s(t),function(t){return d.call(u,t,n,c)},function(t){return h.call(u,t,n,c)})}),a?i([r,a]):r},function(e){return f.reject({request:t,error:e})})}return"object"==typeof e&&(n=e),"function"!=typeof e&&(e=t.client||c),n=u(n||{}),l(r,e)}}var c,a,s,l,f;return c=t("./client/default"),a=t("./util/mixin"),s=t("./util/responsePromise"),l=t("./client"),f=t("when"),u.ComplexRequest=o,u})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./client":9,"./client/default":10,"./util/mixin":47,"./util/responsePromise":49,when:43}],13:[function(t,e){!function(t){"use strict";t(function(t){var e,n,r;return e=t("../interceptor"),n=t("../util/mixin"),r=function(){function t(t,e,r){(t in e||t in r)&&(e[t]=n({},r[t],e[t]))}function e(t,e,n){t in n&&!(t in e)&&(e[t]=n[t])}var r={method:e,path:e,params:t,headers:t,entity:e,mixin:t};return function(t,e){for(var n in r)r[n](n,t,e);return t}}(),e({request:function(t,e){return r(t,e)}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../interceptor":12,"../util/mixin":47}],14:[function(t,e){!function(t){"use strict";t(function(t){var e,n;return e=t("../interceptor"),n=t("when"),e({init:function(t){return t.code=t.code||400,t},response:function(t,e){return t.status&&t.status.code>=e.code?n.reject(t):t}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../interceptor":12,when:43}],15:[function(t,e){!function(t){"use strict";t(function(t){var e,n,r,i;return e=t("../interceptor"),n=t("./pathPrefix"),r=t("../parsers/rfc5988"),i=t("../util/find"),e({init:function(t){return t.target=t.target||"",t},response:function(t,e,o){function u(t,e){e.forEach(function(e){Object.defineProperty(t,e.rel+"Link",{enumerable:!1,configurable:!0,value:e}),Object.defineProperty(t,e.rel,{enumerable:!1,configurable:!0,get:function(){var n=a({path:e.href});return Object.defineProperty(t,e.rel,{enumerable:!1,configurable:!0,value:n}),n}})}),Object.defineProperty(t,"clientFor",{enumerable:!1,value:function(e,r){return n(r||a,{prefix:t[e+"Link"].href})}})}function c(t){var e=[];return[].concat(t).forEach(function(t){try{e=e.concat(r.parse(t))}catch(n){}}),e}var a;return a=e.client||t.request&&t.request.originator||o.client,t.headers&&t.headers.Link&&(t.links=t.links||{},u(t.links,c(t.headers.Link))),i.findProperties(t.entity,"links",function(t,n){var r;Array.isArray(n.links)&&(""===e.target?r=n:(r={},Object.defineProperty(n,e.target,{enumerable:!1,value:r})),u(r,n.links))}),t}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../interceptor":12,"../parsers/rfc5988":44,"../util/find":45,"./pathPrefix":17}],16:[function(t,e){!function(t){"use strict";t(function(t){var e,n,r,i,o;return e=t("../interceptor"),n=t("../mime"),r=t("../mime/registry"),o=t("when"),i={read:function(t){return t},write:function(t){return t}},e({init:function(t){return t.registry=t.registry||r,t},request:function(t,e){var r,u;return u=t.headers||(t.headers={}),r=n.parse(u["Content-Type"]=u["Content-Type"]||e.mime||"text/plain"),u.Accept=u.Accept||e.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in t?e.registry.lookup(r).otherwise(function(){if(e.permissive)return i;throw"mime-unknown"}).then(function(n){var i=e.client||t.originator;return o.attempt(n.write,t.entity,{client:i,request:t,mime:r,registry:e.registry}).otherwise(function(){throw"mime-serialization"}).then(function(e){return t.entity=e,t})}):t},response:function(t,e){if(!(t.headers&&t.headers["Content-Type"]&&t.entity))return t;var r=n.parse(t.headers["Content-Type"]);return e.registry.lookup(r).otherwise(function(){return i}).then(function(n){var i=e.client||t.request&&t.request.originator;return o.attempt(n.read,t.entity,{client:i,response:t,mime:r,registry:e.registry}).otherwise(function(e){throw t.error="mime-deserialization",t.cause=e,t}).then(function(e){return t.entity=e,t})})}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../interceptor":12,"../mime":19,"../mime/registry":20,when:43}],17:[function(t,e){!function(t){"use strict";t(function(t){function e(t,e){return 0===t.indexOf(e)}function n(t,e){return t.lastIndexOf(e)+e.length===t.length}var r,i;return r=t("../interceptor"),i=t("../UrlBuilder"),r({request:function(t,r){var o;return r.prefix&&!new i(t.path).isFullyQualified()&&(o=r.prefix,t.path&&(n(o,"/")||e(t.path,"/")||(o+="/"),o+=t.path),t.path=o),t}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../UrlBuilder":7,"../interceptor":12}],18:[function(t,e){!function(t){"use strict";t(function(t){var e,n,r;return e=t("../interceptor"),n=t("../util/uriTemplate"),r=t("../util/mixin"),e({init:function(t){return t.params=t.params||{},t.template=t.template||"",t},request:function(t,e){var i,o;return i=t.path||e.template,o=r({},t.params,e.params),t.path=n.expand(i,o),delete t.params,t}})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../interceptor":12,"../util/mixin":47,"../util/uriTemplate":51}],19:[function(t,e){!function(t){"use strict";var e;t(function(){function t(t){var n,r;return n=t.split(";"),r=n[0].trim().split("+"),{raw:t,type:r[0],suffix:r[1]?"+"+r[1]:"",params:n.slice(1).reduce(function(t,n){return n=n.split("="),t[n[0].trim()]=n[1]?n[1].trim():e,t},{})}}return{parse:t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],20:[function(t,e){!function(t){"use strict";t(function(t){function e(t){this.lookup=function(e){var i;return i="string"==typeof e?n.parse(e):e,t[i.raw]?t[i.raw]:t[i.type+i.suffix]?t[i.type+i.suffix]:t[i.type]?t[i.type]:t[i.suffix]?t[i.suffix]:r.reject(new Error('Unable to locate converter for mime "'+i.raw+'"'))},this.delegate=function(t){return{read:function(){var e=arguments;return this.lookup(t).then(function(t){return t.read.apply(this,e)}.bind(this))}.bind(this),write:function(){var e=arguments;return this.lookup(t).then(function(t){return t.write.apply(this,e)}.bind(this))}.bind(this)}},this.register=function(e,n){return t[e]=r(n),t[e]},this.child=function(){return new e(Object.create(t))}}var n,r,i;return n=t("../mime"),r=t("when"),i=new e({}),i.register("application/hal",t("./type/application/hal")),i.register("application/json",t("./type/application/json")),i.register("application/x-www-form-urlencoded",t("./type/application/x-www-form-urlencoded")),i.register("multipart/form-data",t("./type/multipart/form-data")),i.register("text/plain",t("./type/text/plain")),i.register("+json",i.delegate("application/json")),i})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../mime":19,"./type/application/hal":21,"./type/application/json":22,"./type/application/x-www-form-urlencoded":23,"./type/multipart/form-data":24,"./type/text/plain":25,when:43}],21:[function(t,e){!function(t){"use strict";t(function(t){function e(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!0,enumerable:!1,writeable:!0})}var n,r,i,o,u,c;return n=t("../../../interceptor/pathPrefix"),r=t("../../../interceptor/template"),i=t("../../../util/find"),o=t("../../../util/lazyPromise"),u=t("../../../util/responsePromise"),c=t("when"),{read:function(t,a){function s(t,e){(e&&f&&f.warn||f.log)&&(f.warn||f.log).call(f,"Relationship '"+t+"' is deprecated, see "+e)}var l,f;return a=a||{},l=a.client,f=a.console||f,a.registry.lookup(a.mime.suffix).then(function(f){return c(f.read(t,a)).then(function(t){return i.findProperties(t,"_embedded",function(t,n,r){Object.keys(t).forEach(function(r){if(!(r in n)){var i=u({entity:t[r]});e(n,r,i)}}),e(n,r,t)}),i.findProperties(t,"_links",function(t,i,c){Object.keys(t).forEach(function(n){var c=t[n];n in i||e(i,n,u.make(o(function(){return c.deprecation&&s(n,c.deprecation),c.templated===!0?r(l)({path:c.href}):l({path:c.href})})))}),e(i,c,t),e(i,"clientFor",function(e,i){var o=t[e];if(!o)throw new Error("Unknown relationship: "+e);return o.deprecation&&s(e,o.deprecation),o.templated===!0?r(i||l,{template:o.href}):n(i||l,{prefix:o.href})}),e(i,"requestFor",function(t,e,n){var r=this.clientFor(t,n);return r(e)})}),t})})},write:function(t,e){return e.registry.lookup(e.mime.suffix).then(function(n){return n.write(t,e)})}}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../../../interceptor/pathPrefix":17,"../../../interceptor/template":18,"../../../util/find":45,"../../../util/lazyPromise":46,"../../../util/responsePromise":49,when:43}],22:[function(t,e){!function(t){"use strict";t(function(){function t(e,n){return{read:function(t){return JSON.parse(t,e)},write:function(t){return JSON.stringify(t,n)},extend:t}}return t()})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],23:[function(t,e){!function(t){"use strict";t(function(){function t(t){return t=encodeURIComponent(t),t.replace(r,"+")}function e(t){return t=t.replace(i," "),decodeURIComponent(t)}function n(e,r,i){return Array.isArray(i)?i.forEach(function(t){e=n(e,r,t)}):(e.length>0&&(e+="&"),e+=t(r),void 0!==i&&null!==i&&(e+="="+t(i))),e}var r,i;return r=/%20/g,i=/\+/g,{read:function(t){var n={};return t.split("&").forEach(function(t){var r,i,o;r=t.split("="),i=e(r[0]),o=2===r.length?e(r[1]):null,i in n?(Array.isArray(n[i])||(n[i]=[n[i]]),n[i].push(o)):n[i]=o}),n},write:function(t){var e="";return Object.keys(t).forEach(function(r){e=n(e,r,t[r])}),e}}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],24:[function(t,e){!function(t){"use strict";t(function(){function t(t){return t&&1===t.nodeType&&"FORM"===t.tagName}function e(t){var e,n=new FormData;for(var r in t)t.hasOwnProperty(r)&&(e=t[r],e instanceof File?n.append(r,e,e.name):e instanceof Blob?n.append(r,e):n.append(r,String(e)));return n}return{write:function(n){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(n instanceof FormData)return n;if(t(n))return new FormData(n);if("object"==typeof n&&null!==n)return e(n);throw new Error("Unable to create FormData from object "+n)}}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],25:[function(t,e){!function(t){"use strict";t(function(){return{read:function(t){return t},write:function(t){return t.toString()}}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],26:[function(t,e){!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),r=t("./env").asap;return e({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./Scheduler":27,"./env":39,"./makePromise":41}],27:[function(t,e){!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],28:[function(t,e){!function(t){"use strict";t(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],29:[function(t,e){!function(t){"use strict";t(function(){function t(t,n){function r(e,r,o){var u=t._defer(),c=o.length,a=new Array(c);return i({f:e,thisArg:r,args:o,params:a,i:c-1,call:n},u._handler),u}function i(e,r){if(e.i<0)return n(e.f,e.thisArg,e.params,r);var i=t._handler(e.args[e.i]);i.fold(o,e,void 0,r)}function o(t,e,n){t.params[t.i]=e,t.i-=1,i(t,n)}return arguments.length<2&&(n=e),r}function e(t,e,n,r){try{r.resolve(t.apply(e,n))}catch(i){r.reject(i)}}return t.tryCatchResolve=e,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],30:[function(t,e){!function(t){"use strict";t(function(t){var e=t("../state"),n=t("../apply");return function(t){function r(e){function n(t){l=null,this.resolve(t)}function r(t){this.resolved||(l.push(t),0===--s&&this.reject(l))}for(var i,o,u=t._defer(),c=u._handler,a=e.length>>>0,s=a,l=[],f=0;a>f;++f)if(o=e[f],void 0!==o||f in e){if(i=t._handler(o),i.state()>0){c.become(i),t._visitRemaining(e,f,i);break}i.visit(c,n,r)}else--s;return 0===s&&c.reject(new RangeError("any(): array must not be empty")),u}function i(e,n){function r(t){this.resolved||(l.push(t),0===--h&&(f=null,this.resolve(l)))}function i(t){this.resolved||(f.push(t),0===--o&&(l=null,this.reject(f)))}var o,u,c,a=t._defer(),s=a._handler,l=[],f=[],d=e.length>>>0,h=0;for(c=0;d>c;++c)u=e[c],(void 0!==u||c in e)&&++h;for(n=Math.max(n,0),o=h-n+1,h=Math.min(n,h),n>h?s.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+h)):0===h&&s.resolve(l),c=0;d>c;++c)u=e[c],(void 0!==u||c in e)&&t._handler(u).visit(s,r,i,s.notify);return a}function o(e,n){return t._traverse(n,e)}function u(e,n){var r=g.call(e);return t._traverse(n,r).then(function(t){return c(r,t)})}function c(e,n){for(var r=n.length,i=new Array(r),o=0,u=0;r>o;++o)n[o]&&(i[u++]=t._handler(e[o]).value);return i.length=u,i}function a(t){return m(t.map(s))}function s(n){var r=t._handler(n);return 0===r.state()?p(n).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function l(t,e){return arguments.length>2?v.call(t,d(e),arguments[2]):v.call(t,d(e))}function f(t,e){return arguments.length>2?y.call(t,d(e),arguments[2]):y.call(t,d(e))}function d(t){return function(e,n,r){return h(t,void 0,[e,n,r])}}var h=n(t),p=t.resolve,m=t.all,v=Array.prototype.reduce,y=Array.prototype.reduceRight,g=Array.prototype.slice;return t.any=r,t.some=i,t.settle=a,t.map=o,t.filter=u,t.reduce=l,t.reduceRight=f,t.prototype.spread=function(t){return this.then(m).then(function(e){return t.apply(this,e)})},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../apply":29,"../state":42}],31:[function(t,e){!function(t){"use strict";t(function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t,e){return n(e)?t instanceof e:e(t)}function n(t){return t===Error||null!=t&&t.prototype instanceof Error}function r(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function i(t){return t}return function(n){function o(t,n){return function(r){return e(r,n)?t.call(this,r):s(r)}}function u(t,e,n,i){var o=t.call(e);return r(o)?c(o,n,i):n(i)}function c(t,e,n){return a(t).then(function(){return e(n)})}var a=n.resolve,s=n.reject,l=n.prototype["catch"];return n.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},n.prototype["catch"]=n.prototype.otherwise=function(e){return arguments.length<2?l.call(this,e):"function"!=typeof e?this.ensure(t):l.call(this,o(arguments[1],e))},n.prototype["finally"]=n.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return u(t,this,i,e)},function(e){return u(t,this,s,e)})},n.prototype["else"]=n.prototype.orElse=function(t){return this.then(void 0,function(){return t})},n.prototype["yield"]=function(t){return this.then(function(){return t})},n.prototype.tap=function(t){return this.then(t)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],32:[function(t,e){!function(t){"use strict";t(function(){return function(t){return t.prototype.fold=function(e,n){var r=this._beget();return this._handler.fold(function(n,r,i){t._handler(n).fold(function(t,n,r){r.resolve(e.call(this,n,t))},r,this,i)},n,r._handler.receiver,r._handler),r},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],33:[function(t,e){!function(t){"use strict";t(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../state":42}],34:[function(t,e){!function(t){"use strict";t(function(){return function(t){function e(t,e,r,i){return n(function(e){return[e,t(e)]},e,r,i)}function n(t,e,i,o){function u(o,u){return r(i(o)).then(function(){return n(t,e,i,u)})}return r(o).then(function(n){return r(e(n)).then(function(e){return e?n:r(t(n)).spread(u)})})}var r=t.resolve;return t.iterate=e,t.unfold=n,t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],35:[function(t,e){!function(t){"use strict";t(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],36:[function(t,e){!function(t){"use strict";t(function(t){function e(t,e,r,i){return n.setTimer(function(){t(r,i,e)},e)}var n=t("../env"),r=t("../TimeoutError");return function(t){function i(t,n,r){e(o,t,n,r)}function o(t,e){e.resolve(t)}function u(t,e,n){var i="undefined"==typeof t?new r("timed out after "+n+"ms"):t;e.reject(i)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(i,t,void 0,e._handler),e},t.prototype.timeout=function(t,r){var i=this._beget(),o=i._handler,c=e(u,t,r,i._handler);return this._handler.visit(o,function(t){n.clearTimer(c),this.resolve(t)},function(t){n.clearTimer(c),this.reject(t)},o.notify),i},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../TimeoutError":28,"../env":39}],37:[function(t,e){!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var r=t("../env").setTimer,i=t("../format");return function(t){function o(t){t.handled||(h.push(t),l("Potentially unhandled rejection ["+t.id+"] "+i.formatError(t.value)))}function u(t){var e=h.indexOf(t);e>=0&&(h.splice(e,1),f("Handled previous rejection ["+t.id+"] "+i.formatObject(t.value)))}function c(t,e){d.push(t,e),null===p&&(p=r(a,0))}function a(){for(p=null;d.length>0;)d.shift()(d.shift())}var s,l=n,f=n;"undefined"!=typeof console&&(s=console,l="undefined"!=typeof s.error?function(t){s.error(t)}:function(t){s.log(t)},f="undefined"!=typeof s.info?function(t){s.info(t)}:function(t){s.log(t)}),t.onPotentiallyUnhandledRejection=function(t){c(o,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){c(u,t)},t.onFatalRejection=function(t){c(e,t.value)};var d=[],h=[],p=null;return t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../env":39,"../format":40}],38:[function(t,e){!function(t){"use strict";t(function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),n=e._handler;return n.receiver=t,this._handler.chain(n,t),e},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],39:[function(t,e){(function(n){!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(t){function e(){var t=n;n=void 0,t()}var n,r=document.createTextNode(""),i=new t(e);i.observe(r,{characterData:!0});var o=0;return function(t){n=t,r.data=o^=1}}var o,u="undefined"!=typeof setTimeout&&setTimeout,c=function(t,e){return setTimeout(t,e)},a=function(t){return clearTimeout(t)},s=function(t){return u(t,0)};if(e())s=function(t){return n.nextTick(t)};else if(o=r())s=i(o);else if(!u){var l=t,f=l("vertx");c=function(t,e){return f.setTimer(e,t)},a=f.cancelTimer,s=f.runOnLoop||f.runOnContext}return{setTimer:c,clearTimer:a,asap:s}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})}).call(this,t("_process"))},{_process:6}],40:[function(t,e){!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&t.stack?t.stack:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(n){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],41:[function(t,e){(function(t){!function(e){"use strict";e(function(){return function(e){function n(t,e){this._handler=t===b?e:r(t)}function r(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}function r(t){i.notify(t)}var i=new E;try{t(e,n,r)}catch(o){n(o)}return i}function i(t){return I(t)?t:new n(b,new _(y(t)))}function o(t){return new n(b,new _(new k(t)))}function u(){return te}function c(){return new n(b,new E)}function a(t,e){var n=new E(t.receiver,t.join().context);return new e(b,n)}function s(t){return f(W,null,t)}function l(t,e){return f(U,t,e)}function f(t,e,r){function i(n,i,u){u.resolved||d(r,o,n,t(e,i,n),u)}function o(t,e,n){l[t]=e,0===--s&&n.become(new j(l))}for(var u,c="function"==typeof e?i:o,a=new E,s=r.length>>>0,l=new Array(s),f=0;f<r.length&&!a.resolved;++f)u=r[f],void 0!==u||f in r?d(r,c,f,u,a):--s;return 0===s&&a.become(new j(l)),new n(b,a)}function d(t,e,n,r,i){if(F(r)){var o=g(r),u=o.state();0===u?o.fold(e,n,void 0,i):u>0?e(n,o.value,i):(i.become(o),h(t,n+1,o))}else e(n,r,i)}function h(t,e,n){for(var r=e;r<t.length;++r)p(y(t[r]),n)}function p(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):0>n&&t._unreport()}}function m(t){return"object"!=typeof t||null===t?o(new TypeError("non-iterable passed to race()")):0===t.length?u():1===t.length?i(t[0]):v(t)}function v(t){var e,r,i,o=new E;for(e=0;e<t.length;++e)if(r=t[e],void 0!==r||e in t){if(i=y(r),0!==i.state()){o.become(i),h(t,e+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(b,o)}function y(t){return I(t)?t._handler.join():F(t)?w(t):new j(t)}function g(t){return I(t)?t._handler.join():w(t)}function w(t){try{var e=t.then;return"function"==typeof e?new A(e,t):new j(t)}catch(n){return new k(n)}}function b(){}function x(){}function E(t,e){n.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function _(t){this.handler=t}function A(t,e){E.call(this),J.enqueue(new N(t,e,this))}function j(t){n.createContext(this),this.value=t}function k(t){n.createContext(this),this.id=++X,this.value=t,this.handled=!1,this.reported=!1,this._report()}function C(t,e){this.rejection=t,this.context=e}function P(t){this.rejection=t}function S(){return new k(new TypeError("Promise cycle"))}function O(t,e){this.continuation=t,this.handler=e}function T(t,e){this.handler=e,this.value=t}function N(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function L(t,e,n,r,i){try{t.call(e,n,r,i)}catch(o){r(o)}}function R(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=Y,this.receiver=this}function I(t){return t instanceof n}function F(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function q(t,e,r,i){return"function"!=typeof t?i.become(e):(n.enterContext(e),z(t,e.value,r,i),void n.exitContext())}function M(t,e,r,i,o){return"function"!=typeof t?o.become(r):(n.enterContext(r),Q(t,e,r.value,i,o),void n.exitContext())}function D(t,e,r,i,o){return"function"!=typeof t?o.notify(e):(n.enterContext(r),B(t,e,i,o),void n.exitContext())}function U(t,e,n){try{return t(e,n)}catch(r){return o(r)}}function z(t,e,n,r){try{r.become(y(t.call(n,e)))}catch(i){r.become(new k(i))}}function Q(t,e,n,r,i){try{t.call(r,e,n,i)}catch(o){i.become(new k(o))}}function B(t,e,n,r){try{r.notify(t.call(n,e))}catch(i){r.notify(i)}}function H(t,e){e.prototype=V(t.prototype),e.prototype.constructor=e}function W(t,e){return e}function G(){}function $(){return"undefined"!=typeof t&&null!==t&&"function"==typeof t.emit?function(e,n){return"unhandledRejection"===e?t.emit(e,n.value,n):t.emit(e,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(t,r){var i=new n(t,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(i)}:t}(G,self,CustomEvent):G}var J=e.scheduler,K=$(),V=Object.create||function(t){function e(){}return e.prototype=t,new e};n.resolve=i,n.reject=o,n.never=u,n._defer=c,n._handler=y,n.prototype.then=function(t,e,n){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof e&&0>i)return new this.constructor(b,r);var o=this._beget(),u=o._handler;return r.chain(u,r.receiver,t,e,n),o},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype._beget=function(){return a(this._handler,this.constructor)},n.all=s,n.race=m,n._traverse=l,n._visitRemaining=h,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=G,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},b.prototype.chain=function(t,e,n,r,i){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:i})},b.prototype.visit=function(t,e,n,r){this.chain(Y,t,e,n,r)},b.prototype.fold=function(t,e,n,r){this.when(new R(t,e,n,r))},H(b,x),x.prototype.become=function(t){t.fail()};var Y=new x;H(b,E),E.prototype._state=0,E.prototype.resolve=function(t){this.become(y(t))},E.prototype.reject=function(t){this.resolved||this.become(new k(t))},E.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=S();return t},E.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},E.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&J.enqueue(this),void 0!==this.context&&t._report(this.context))},E.prototype.when=function(t){this.resolved?J.enqueue(new O(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},E.prototype.notify=function(t){this.resolved||J.enqueue(new T(t,this))},E.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},E.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},E.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},H(b,_),_.prototype.when=function(t){J.enqueue(new O(t,this))},_.prototype._report=function(t){this.join()._report(t)},_.prototype._unreport=function(){this.join()._unreport()},H(E,A),H(b,j),j.prototype._state=1,j.prototype.fold=function(t,e,n,r){M(t,e,this,n,r)},j.prototype.when=function(t){q(t.fulfilled,this,t.receiver,t.resolver)};var X=0;H(b,k),k.prototype._state=-1,k.prototype.fold=function(t,e,n,r){r.become(this)},k.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),q(t.rejected,this,t.receiver,t.resolver)},k.prototype._report=function(t){J.afterQueue(new C(this,t))},k.prototype._unreport=function(){this.handled||(this.handled=!0,J.afterQueue(new P(this)))},k.prototype.fail=function(t){this.reported=!0,K("unhandledRejection",this),n.onFatalRejection(this,void 0===t?this.context:t)},C.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,K("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},P.prototype.run=function(){this.rejection.reported&&(K("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=G;var Z=new b,te=new n(b,Z);return O.prototype.run=function(){this.handler.join().when(this.continuation)},T.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],D(e.progress,this.value,this.handler,e.receiver,e.resolver)},N.prototype.run=function(){function t(t){r.resolve(t)}function e(t){r.reject(t)}function n(t){r.notify(t)}var r=this.resolver;L(this._then,this.thenable,t,e,n)},R.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},R.prototype.rejected=function(t){this.to.reject(t)},R.prototype.progress=function(t){this.to.notify(t)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})}).call(this,t("_process"))},{_process:6}],42:[function(t,e){!function(t){"use strict";t(function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}function r(r){var i=r.state();return 0===i?t():i>0?n(r.value):e(r.value)}return{pending:t,fulfilled:n,rejected:e,inspect:r}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],43:[function(t,e){!function(t){"use strict";t(function(t){function e(t,e,n,r){var i=_.resolve(t);return arguments.length<2?i:i.then(e,n,r)}function n(t){return new _(t)}function r(t){return function(){for(var e=0,n=arguments.length,r=new Array(n);n>e;++e)r[e]=arguments[e];return A(t,this,r)}}function i(t){for(var e=0,n=arguments.length-1,r=new Array(n);n>e;++e)r[e]=arguments[e+1];return A(t,this,r)}function o(){return new u}function u(){function t(t){r._handler.resolve(t)}function e(t){r._handler.reject(t)}function n(t){r._handler.notify(t)}var r=_._defer();this.promise=r,this.resolve=t,this.reject=e,this.notify=n,this.resolver={resolve:t,reject:e,notify:n}}function c(t){return t&&"function"==typeof t.then}function a(){return _.all(arguments)}function s(t){return e(t,_.all)}function l(t){return e(t,_.settle)}function f(t,n){return e(t,function(t){return _.map(t,n)})}function d(t,n){return e(t,function(t){return _.filter(t,n)})}var h=t("./lib/decorators/timed"),p=t("./lib/decorators/array"),m=t("./lib/decorators/flow"),v=t("./lib/decorators/fold"),y=t("./lib/decorators/inspect"),g=t("./lib/decorators/iterate"),w=t("./lib/decorators/progress"),b=t("./lib/decorators/with"),x=t("./lib/decorators/unhandledRejection"),E=t("./lib/TimeoutError"),_=[p,m,v,g,w,y,b,h,x].reduce(function(t,e){return e(t)},t("./lib/Promise")),A=t("./lib/apply")(_);return e.promise=n,e.resolve=_.resolve,e.reject=_.reject,e.lift=r,e["try"]=i,e.attempt=i,e.iterate=_.iterate,e.unfold=_.unfold,e.join=a,e.all=s,e.settle=l,e.any=r(_.any),e.some=r(_.some),e.race=r(_.race),e.map=f,e.filter=d,e.reduce=r(_.reduce),e.reduceRight=r(_.reduceRight),e.isPromiseLike=c,e.Promise=_,e.defer=o,e.TimeoutError=E,e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./lib/Promise":26,"./lib/TimeoutError":28,"./lib/apply":29,"./lib/decorators/array":30,"./lib/decorators/flow":31,"./lib/decorators/fold":32,"./lib/decorators/inspect":33,"./lib/decorators/iterate":34,"./lib/decorators/progress":35,"./lib/decorators/timed":36,"./lib/decorators/unhandledRejection":37,"./lib/decorators/with":38}],44:[function(t,e){!function(t){t(function(t,e,n){n.exports=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'
}var e={parse:function(e,n){function r(t){O>P||(P>O&&(O=P,T=[]),T.push(t))}function i(){var t,n,i,u,c,a,s,l,f;for(a=P,s=P,t=[],l=P,f=P,n=o(),null!==n?(i=h(),null!==i?(44===e.charCodeAt(P)?(u=",",P++):(u=null,0===S&&r('","')),null!==u?(c=h(),null!==c?n=[n,i,u,c]:(n=null,P=f)):(n=null,P=f)):(n=null,P=f)):(n=null,P=f),null!==n&&(n=function(t,e){return e}(l,n[0])),null===n&&(P=l);null!==n;)t.push(n),l=P,f=P,n=o(),null!==n?(i=h(),null!==i?(44===e.charCodeAt(P)?(u=",",P++):(u=null,0===S&&r('","')),null!==u?(c=h(),null!==c?n=[n,i,u,c]:(n=null,P=f)):(n=null,P=f)):(n=null,P=f)):(n=null,P=f),null!==n&&(n=function(t,e){return e}(l,n[0])),null===n&&(P=l);return null!==t?(n=o(),null!==n?t=[t,n]:(t=null,P=s)):(t=null,P=s),null!==t&&(t=function(t,e,n){return e.concat([n])}(a,t[0],t[1])),null===t&&(P=a),t}function o(){var t,n,i,o,a,s,l,f;if(l=P,f=P,60===e.charCodeAt(P)?(t="<",P++):(t=null,0===S&&r('"<"')),null!==t)if(n=c(),null!==n)if(62===e.charCodeAt(P)?(i=">",P++):(i=null,0===S&&r('">"')),null!==i)if(o=h(),null!==o){for(a=[],s=u();null!==s;)a.push(s),s=u();null!==a?t=[t,n,i,o,a]:(t=null,P=f)}else t=null,P=f;else t=null,P=f;else t=null,P=f;else t=null,P=f;return null!==t&&(t=function(t,e,n){var r={};return n.forEach(function(t){r[t[0]]=t[1]}),r.href=e,r}(l,t[1],t[4])),null===t&&(P=l),t}function u(){var t,n,i,o,u,c;return u=P,c=P,59===e.charCodeAt(P)?(t=";",P++):(t=null,0===S&&r('";"')),null!==t?(n=h(),null!==n?(i=a(),null!==i?(o=h(),null!==o?t=[t,n,i,o]:(t=null,P=c)):(t=null,P=c)):(t=null,P=c)):(t=null,P=c),null!==t&&(t=function(t,e){return e}(u,t[2])),null===t&&(P=u),t}function c(){var t,n,i;if(i=P,/^[^>]/.test(e.charAt(P))?(n=e.charAt(P),P++):(n=null,0===S&&r("[^>]")),null!==n)for(t=[];null!==n;)t.push(n),/^[^>]/.test(e.charAt(P))?(n=e.charAt(P),P++):(n=null,0===S&&r("[^>]"));else t=null;return null!==t&&(t=function(t,e){return e.join("")}(i,t)),null===t&&(P=i),t}function a(){var t,e,n,r;return n=P,r=P,t=s(),null!==t?(e=l(),e=null!==e?e:"",null!==e?t=[t,e]:(t=null,P=r)):(t=null,P=r),null!==t&&(t=function(t,e,n){return[e,n]}(n,t[0],t[1])),null===t&&(P=n),t}function s(){var t,n,i;if(i=P,/^[a-z]/.test(e.charAt(P))?(n=e.charAt(P),P++):(n=null,0===S&&r("[a-z]")),null!==n)for(t=[];null!==n;)t.push(n),/^[a-z]/.test(e.charAt(P))?(n=e.charAt(P),P++):(n=null,0===S&&r("[a-z]"));else t=null;return null!==t&&(t=function(t,e){return e.join("")}(i,t)),null===t&&(P=i),t}function l(){var t,n,i,o;return i=P,o=P,61===e.charCodeAt(P)?(t="=",P++):(t=null,0===S&&r('"="')),null!==t?(n=f(),null===n&&(n=p()),null!==n?t=[t,n]:(t=null,P=o)):(t=null,P=o),null!==t&&(t=function(t,e){return e}(i,t[1])),null===t&&(P=i),t}function f(){var t,e,n;if(n=P,e=d(),null!==e)for(t=[];null!==e;)t.push(e),e=d();else t=null;return null!==t&&(t=function(t,e){return e.join("")}(n,t)),null===t&&(P=n),t}function d(){var t;return 33===e.charCodeAt(P)?(t="!",P++):(t=null,0===S&&r('"!"')),null===t&&(35===e.charCodeAt(P)?(t="#",P++):(t=null,0===S&&r('"#"')),null===t&&(36===e.charCodeAt(P)?(t="$",P++):(t=null,0===S&&r('"$"')),null===t&&(37===e.charCodeAt(P)?(t="%",P++):(t=null,0===S&&r('"%"')),null===t&&(38===e.charCodeAt(P)?(t="&",P++):(t=null,0===S&&r('"&"')),null===t&&(39===e.charCodeAt(P)?(t="'",P++):(t=null,0===S&&r('"\'"')),null===t&&(40===e.charCodeAt(P)?(t="(",P++):(t=null,0===S&&r('"("')),null===t&&(41===e.charCodeAt(P)?(t=")",P++):(t=null,0===S&&r('")"')),null===t&&(42===e.charCodeAt(P)?(t="*",P++):(t=null,0===S&&r('"*"')),null===t&&(43===e.charCodeAt(P)?(t="+",P++):(t=null,0===S&&r('"+"')),null===t&&(45===e.charCodeAt(P)?(t="-",P++):(t=null,0===S&&r('"-"')),null===t&&(46===e.charCodeAt(P)?(t=".",P++):(t=null,0===S&&r('"."')),null===t&&(124===e.charCodeAt(P)?(t="|",P++):(t=null,0===S&&r('"|"')),null===t&&(t=b(),null===t&&(58===e.charCodeAt(P)?(t=":",P++):(t=null,0===S&&r('":"')),null===t&&(60===e.charCodeAt(P)?(t="<",P++):(t=null,0===S&&r('"<"')),null===t&&(61===e.charCodeAt(P)?(t="=",P++):(t=null,0===S&&r('"="')),null===t&&(62===e.charCodeAt(P)?(t=">",P++):(t=null,0===S&&r('">"')),null===t&&(63===e.charCodeAt(P)?(t="?",P++):(t=null,0===S&&r('"?"')),null===t&&(64===e.charCodeAt(P)?(t="@",P++):(t=null,0===S&&r('"@"')),null===t&&(t=w(),null===t&&(91===e.charCodeAt(P)?(t="[",P++):(t=null,0===S&&r('"["')),null===t&&(93===e.charCodeAt(P)?(t="]",P++):(t=null,0===S&&r('"]"')),null===t&&(94===e.charCodeAt(P)?(t="^",P++):(t=null,0===S&&r('"^"')),null===t&&(95===e.charCodeAt(P)?(t="_",P++):(t=null,0===S&&r('"_"')),null===t&&(96===e.charCodeAt(P)?(t="`",P++):(t=null,0===S&&r('"`"')),null===t&&(123===e.charCodeAt(P)?(t="{",P++):(t=null,0===S&&r('"{"')),null===t&&(/^[\/\/]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[\\/\\/]")),null===t&&(125===e.charCodeAt(P)?(t="}",P++):(t=null,0===S&&r('"}"')),null===t&&(126===e.charCodeAt(P)?(t="~",P++):(t=null,0===S&&r('"~"'))))))))))))))))))))))))))))))),t}function h(){var t,e;for(t=[],e=x();null!==e;)t.push(e),e=x();return t}function p(){var t,e,n,r,i;return r=P,i=P,t=E(),null!==t?(e=m(),null!==e?(n=E(),null!==n?t=[t,e,n]:(t=null,P=i)):(t=null,P=i)):(t=null,P=i),null!==t&&(t=function(t,e){return e}(r,t[1])),null===t&&(P=r),t}function m(){var t,e,n;for(n=P,t=[],e=_(),null===e&&(e=A());null!==e;)t.push(e),e=_(),null===e&&(e=A());return null!==t&&(t=function(t,e){return e.join("")}(n,t)),null===t&&(P=n),t}function v(){var t;return/^[\0-]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[\\0-]")),t}function y(){var t;return/^[A-Z]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[A-Z]")),t}function g(){var t;return/^[a-z]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[a-z]")),t}function w(){var t;return t=y(),null===t&&(t=g()),t}function b(){var t;return/^[0-9]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[0-9]")),t}function x(){var t;return/^[ ]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[ ]")),t}function E(){var t;return/^["]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r('["]')),t}function _(){var t;return/^[^"]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r('[^"]')),t}function A(){var t,n,i;return i=P,/^[\\]/.test(e.charAt(P))?(t=e.charAt(P),P++):(t=null,0===S&&r("[\\\\]")),null!==t?(n=v(),null!==n?t=[t,n]:(t=null,P=i)):(t=null,P=i),t}function j(t){t.sort();for(var e=null,n=[],r=0;r<t.length;r++)t[r]!==e&&(n.push(t[r]),e=t[r]);return n}function k(){for(var t=1,n=1,r=!1,i=0;i<Math.max(P,O);i++){var o=e.charAt(i);"\n"===o?(r||t++,n=1,r=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t++,n=1,r=!0):(n++,r=!1)}return{line:t,column:n}}var C={start:i,LinkValue:o,LinkParams:u,URIReference:c,LinkParam:a,LinkParamName:s,LinkParamValue:l,PToken:f,PTokenChar:d,OptionalSP:h,QuotedString:p,QuotedStringInternal:m,Char:v,UpAlpha:y,LoAlpha:g,Alpha:w,Digit:b,SP:x,DQ:E,QDText:_,QuotedPair:A};if(void 0!==n){if(void 0===C[n])throw new Error("Invalid rule name: "+t(n)+".")}else n="start";var P=0,S=0,O=0,T=[],N=C[n]();if(null===N||P!==e.length){var L=Math.max(P,O),R=L<e.length?e.charAt(L):null,I=k();throw new this.SyntaxError(j(T),R,L,I.line,I.column)}return N},toSource:function(){return this._source}};return e.SyntaxError=function(e,n,r,i,o){function u(e,n){var r,i;switch(e.length){case 0:r="end of input";break;case 1:r=e[0];break;default:r=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return i=n?t(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=e,this.found=n,this.message=u(e,n),this.offset=r,this.line=i,this.column=o},e.SyntaxError.prototype=Error.prototype,e}()})}("function"==typeof define&&define.amd?define:function(n){n(t,e.exports,e)})},{}],45:[function(t,e){!function(t){"use strict";t(function(){return{findProperties:function t(e,n,r){"object"==typeof e&&null!==e&&(n in e&&r(e[n],e,n),Object.keys(e).forEach(function(i){t(e[i],n,r)}))}}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],46:[function(t,e){!function(t){"use strict";t(function(t){function e(t){var e,r,i,o,u;return e=n.defer(),r=!1,i=e.resolver,o=e.promise,u=o.then,o.then=function(){return r||(r=!0,n.attempt(t).then(i.resolve,i.reject)),u.apply(o,arguments)},o}var n;return n=t("when"),e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{when:43}],47:[function(t,e){!function(t){"use strict";t(function(){function t(t){var n,r,i,o;for(t||(t={}),n=1,r=arguments.length;r>n;n+=1){i=arguments[n];for(o in i)o in t&&(t[o]===i[o]||o in e&&e[o]===i[o])||(t[o]=i[o])}return t}var e={};return t})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],48:[function(t,e){!function(t){"use strict";t(function(){function t(t){return t.toLowerCase().split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("-")}return t})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],49:[function(t,e){!function(t){"use strict";t(function(t){function e(t,e){return t.then(function(t){return t&&t[e]},function(t){return s.reject(t&&t[e])})}function n(){return e(this,"entity")}function r(){return e(e(this,"status"),"code")}function i(){return e(this,"headers")}function o(t){return t=l(t),e(this.headers(),t)}function u(t){return t=[].concat(t),c(s.reduce(t,function(t,e){if("string"==typeof e&&(e={rel:e}),"function"!=typeof t.entity.clientFor)throw new Error("Hypermedia response expected");var n=t.entity.clientFor(e.rel);return n({params:e.params})},this))}function c(t){return t.status=r,t.headers=i,t.header=o,t.entity=n,t.follow=u,t}function a(){return c(s.apply(s,arguments))}var s=t("when"),l=t("./normalizeHeaderName");return a.make=c,a.reject=function(t){return c(s.reject(t))},a.promise=function(t){return c(s.promise(t))},a})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./normalizeHeaderName":48,when:43}],50:[function(t,e){!function(t){"use strict";t(function(){function t(t,e){if("string"!=typeof t)throw new Error("String required for URL encoding");return t.split("").map(function(t){if(e.hasOwnProperty(t))return t;var n=t.charCodeAt(0);return 127>=n?"%"+n.toString(16).toUpperCase():encodeURIComponent(t).toUpperCase()}).join("")}function e(e){return e=e||r.unreserved,function(n){return t(n,e)}}function n(t){return decodeURIComponent(t)}var r;return r=function(){var t={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return t.genDelims=":/?#[]@",t.subDelims="!$&'()*+,;=",t.reserved=t.genDelims+t.subDelims,t.unreserved=t.alpha+t.digit+"-._~",t.url=t.reserved+t.unreserved,t.scheme=t.alpha+t.digit+"+-.",t.userinfo=t.unreserved+t.subDelims+":",t.host=t.unreserved+t.subDelims,t.port=t.digit,t.pchar=t.unreserved+t.subDelims+":@",t.segment=t.pchar,t.path=t.segment+"/",t.query=t.pchar+"/?",t.fragment=t.pchar+"/?",Object.keys(t).reduce(function(e,n){return e[n]=t[n].split("").reduce(function(t,e){return t[e]=!0,t},{}),e},{})}(),{decode:n,encode:e(),encodeURL:e(r.url),encodeScheme:e(r.scheme),encodeUserInfo:e(r.userinfo),encodeHost:e(r.host),encodePort:e(r.port),encodePathSegment:e(r.segment),encodePath:e(r.path),encodeQuery:e(r.query),encodeFragment:e(r.fragment)}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{}],51:[function(t,e){!function(t){"use strict";var e;t(function(t){function n(t,n,r){return n.split(",").reduce(function(n,i){var u,a;if(u={},"*"===i.slice(-1)&&(i=i.slice(0,-1),u.explode=!0),c.test(i)){var s=c.exec(i);i=s[1],u.maxLength=parseInt(s[2])}return i=o.decode(i),a=r[i],a===e||null===a?n:("string"==typeof a?(u.maxLength&&(a=a.slice(0,u.maxLength)),n+=n.length?t.separator:t.first,t.named&&(n+=t.encoder(i),n+=a.length?"=":t.empty),n+=t.encoder(a)):n+=Array.isArray(a)?a.reduce(function(e,n){return e.length?(e+=u.explode?t.separator:",",t.named&&u.explode&&(e+=t.encoder(i),e+=n.length?"=":t.empty)):(e+=t.first,t.named&&(e+=t.encoder(i),e+=n.length?"=":t.empty)),e+=t.encoder(n)},""):Object.keys(a).reduce(function(e,n){return e.length?e+=u.explode?t.separator:",":(e+=t.first,t.named&&!u.explode&&(e+=t.encoder(i),e+=a[n].length?"=":t.empty)),e+=t.encoder(n),e+=u.explode?"=":",",e+=t.encoder(a[n])},""),n)},"")}function r(t,e){var r;if(r=u[t.slice(0,1)],r?t=t.slice(1):r=u[""],r.reserved)throw new Error("Reserved expression operations are not supported");return n(r,t,e)}function i(t,e){var n,i,o;for(o="",i=0;;){if(n=t.indexOf("{",i),-1===n){o+=t.slice(i);break}o+=t.slice(i,n),i=t.indexOf("}",n)+1,o+=r(t.slice(n+1,i-1),e)}return o}var o,u,c;return o=t("./uriEncoder"),c=/^([^:]*):([0-9]+)$/,u={"":{first:"",separator:",",named:!1,empty:"",encoder:o.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:o.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:o.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:o.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:o.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:o.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:o.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:o.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},{expand:i}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./uriEncoder":50}],52:[function(t,e){e.exports=[{added_by:"niko",title:"Libération",url:"http://liberation.fr/"},{added_by:"niko",title:"Le Monde",url:"http://lemonde.fr/"}]},{}],53:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=r(t("./batch")),c=r(t("rest")),a=r(t("rest/interceptor/pathPrefix")),s=r(t("rest/interceptor/mime")),l=r(t("rest/interceptor/errorCode")),f=r(t("rest/interceptor/defaultRequest")),d=r(t("rest/interceptor/hateoas")),h=r(t("rest/interceptor")),p=n.AUTH_TOKEN_KEYNAME="readinglist:auth:token",m=n.authInterceptor=h({request:function(t,e){var n=t.headers||(t.headers={}),r=e.authTokenGetter();return r&&(n.Authorization="Bearer "+e.authTokenGetter()),t}}),v=function(){function t(e){var n=void 0===arguments[1]?{}:arguments[1];o(this,t),this.baseUrl=e,this.client=n.client||this.createClient(),this.window=n.window||window,this._authToken=null}return i(t,null,{_wrap:{value:function(t){return t["catch"](function(t){if(!t.entity||"loaderror"===t.error)throw new Error("Server is unreachable. Are you offline?");throw Object.assign(new Error,t.entity)}).then(function(t){return t.entity})},writable:!0,configurable:!0},createClient:{value:function(){var t=this;return c.wrap(a,{prefix:this.baseUrl}).wrap(l,{code:400}).wrap(f,{headers:{"Requested-With":"readinglist-client"}}).wrap(s,{mime:"application/json;encoding=UTF-8"}).wrap(d).wrap(m,{authTokenGetter:function(){return t._authToken}})},writable:!0,configurable:!0},hello:{value:function(){return this._wrap(this.client({path:"/"}))},writable:!0,configurable:!0},signinToFxA:{value:function(){var t=this.window.location,e=encodeURIComponent(t.protocol+"//"+t.hostname+":"+t.port+t.pathname+"#auth:");this.window.location=""+this.baseUrl+"/fxa-oauth/login?redirect="+e+"#"},writable:!0,configurable:!0},checkAuth:{value:function(){var t=this.window.sessionStorage.getItem(p);if(t)return this.setAuthToken(t);var e=/^#auth:([a-f0-9]{64})$/.exec(this.window.location.hash);return e?(this.window.location.hash="",this.setAuthToken(e[1])):null},writable:!0,configurable:!0},setAuthToken:{value:function(t){return this._authToken=t,"string"==typeof t?this.window.sessionStorage.setItem(p,t):this.window.sessionStorage.removeItem(p),t},writable:!0,configurable:!0},signout:{value:function(){this.setAuthToken(null)},writable:!0,configurable:!0},createArticle:{value:function(){var t=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"POST",path:"/articles",entity:t}))},writable:!0,configurable:!0},listArticles:{value:function(){var t=(void 0===arguments[0]?{}:arguments[0],{unread:!0,_sort:"-last_modified"});return this._wrap(this.client({path:"/articles",params:t})).then(function(t){return t.items})},writable:!0,configurable:!0},getArticle:{value:function(){var t=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({path:"/articles/"+t.id}))},writable:!0,configurable:!0},updateArticle:{value:function(){var t=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"PATCH",path:"/articles/"+t.id,entity:t}))},writable:!0,configurable:!0},deleteArticle:{value:function(){var t=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"DELETE",path:"/articles/"+t.id}))},writable:!0,configurable:!0},createBatch:{value:function(){var t=void 0===arguments[0]?{}:arguments[0];return new u(this,t)},writable:!0,configurable:!0},batch:{value:function(t){return this._wrap(this.client({method:"POST",path:"/batch",entity:t}))},writable:!0,configurable:!0}}),t}();n["default"]=v,Object.defineProperty(n,"__esModule",{value:!0})},{"./batch":54,rest:8,"rest/interceptor":12,"rest/interceptor/defaultRequest":13,"rest/interceptor/errorCode":14,"rest/interceptor/hateoas":15,"rest/interceptor/mime":16,"rest/interceptor/pathPrefix":17}],54:[function(t,e){"use strict";var n=function(t){return Array.isArray(t)?t:Array.from(t)},r=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(e){var n=void 0===arguments[1]?{}:arguments[1];if(i(this,t),"object"!=typeof e)throw new Error("Invalid API instance.");this.api=e,this.defaults=Object.assign({},n),this.requests=[]}return r(t,null,{createArticle:{value:function(){for(var t,e=arguments.length,r=Array(e),i=0;e>i;i++)r[i]=arguments[i];return this.requests=(t=this.requests).concat.apply(t,n(r.map(function(t){return{method:"POST",path:"/v0/articles",body:t}}))),this},writable:!0,configurable:!0},toQuery:{value:function(){return{defaults:this.defaults,requests:this.requests}},writable:!0,configurable:!0},process:{value:function(){return this.api.batch(this.toQuery())},writable:!0,configurable:!0}}),t}();e.exports=o},{}],55:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=n(t("react/addons"));e.exports=r.createClass({displayName:"Alert",render:function(){return r.createElement("div",{className:"alert alert-warning"},r.createElement("p",null,r.createElement("strong",null,this.props.title)),r.createElement("div",null,this.props.children))}})},{"react/addons":"react/addons"}],56:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t};t("6to5/polyfill");var r=n(t("react/addons")),i=n(t("docbrown")),o=t("../flux"),u=o.ArticleActions,c=o.stores,a=n(t("./Alert")),s=n(t("./ArticleForm")),l=n(t("./ArticleList")),f=n(t("./Auth"));e.exports=r.createClass({displayName:"App",mixins:[i.storeMixin(c.getter("articleStore"))],componentDidMount:function(){u.list()},renderError:function(){return this.state.error?r.createElement(a,{title:"Error"},r.createElement("p",null,this.state.error.message)):void 0},render:function(){return r.createElement("div",{className:"container-fluid"},r.createElement("h1",null,"Readinglist"),this.renderError(),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-3"},r.createElement(f,null),r.createElement(l,{articles:this.state.articles})),r.createElement("div",{className:"col-md-9"},r.createElement(s,{current:this.state.current}))))}})},{"../flux":64,"./Alert":55,"./ArticleForm":58,"./ArticleList":59,"./Auth":60,"6to5/polyfill":5,docbrown:"docbrown","react/addons":"react/addons"}],57:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=t("react/addons"),i=n(r),o=t("../flux").ArticleActions,u=r.addons,c=n(t("./Button"));e.exports=i.createClass({displayName:"ArticleEntry",mixins:[u.PureRenderMixin],handleDeleteClick:function(){confirm("Are you sure?")&&o["delete"](this.props)},handleEditClick:function(){o.edit(this.props)},_formattedAddedOn:function(){return new Date(this.props.added_on).toLocaleString()},render:function(){return i.createElement("div",{className:"ArticleEntry row"},i.createElement("h4",{className:"ArticleEntry__h4 col-md-12"},i.createElement("a",{href:this.props.url},this.props.title),i.createElement("sup",null,this.props.unread?"unread":"")),i.createElement("p",{className:"ArticleEntry__info col-md-9"},"Added by "+this.props.added_by+" on "+this._formattedAddedOn()),i.createElement("div",{className:"ArticleEntry__actions col-md-3 btn-group",role:"group","aria-label":"Actions"},i.createElement(c,{type:"info",size:"xs",onClick:this.handleEditClick,icon:"pencil"}),i.createElement(c,{type:"danger",size:"xs",onClick:this.handleDeleteClick,icon:"trash",disabled:2===this.props.status})))}})},{"../flux":64,"./Button":61,"react/addons":"react/addons"}],58:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=n(t("react/addons")),i=t("../flux").ArticleActions,o=n(t("./Button")),u=n(t("./Panel"));e.exports=r.createClass({displayName:"ArticleForm",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return{title:"",url:""}},componentWillReceiveProps:function(t){var e=t.current||this.getInitialState();this.setState({title:e.title,url:e.url})},handleSubmit:function(t){t.preventDefault();var e=Object.assign({id:this.props.current&&this.props.current.id},{title:this.state.title,url:this.state.url,added_by:"niko"});this.props.current?i.update(e):i.create(e),this.setState(this.getInitialState())},_getVerb:function(){return this.props.current?"Update":"Add"},render:function(){return r.createElement(u,{title:""+this._getVerb()+" an article"},r.createElement("form",{method:"post",onSubmit:this.handleSubmit},r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control",type:"text",placeholder:"Title",valueLink:this.linkState("title")})),r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control",type:"url",placeholder:"http://",valueLink:this.linkState("url"),disabled:!!this.props.current})),r.createElement(o,{type:"default",label:this._getVerb()})))}})},{"../flux":64,"./Button":61,"./Panel":63,"react/addons":"react/addons"}],59:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=t("react/addons"),i=n(r),o=r.addons,u=t("../flux").ArticleActions,c=n(t("./ArticleEntry")),a=n(t("./Button")),s=n(t("./Panel")),l=i.createClass({displayName:"EmptyListInfo",mixins:[o.PureRenderMixin],handleImportSampleClick:function(){u["import"]()},render:function(){return i.createElement("div",{className:"list-empty text-center"},i.createElement("p",null,"You don't have anything to read just yet."),i.createElement("p",null,i.createElement(a,{type:"info",label:"Import sample articles",onClick:this.handleImportSampleClick})))}});e.exports=i.createClass({displayName:"ArticleList",mixins:[o.PureRenderMixin],render:function(){return i.createElement(s,{title:"Articles",bodyWrap:!1},i.createElement("ul",{className:"list-group"},this.props.articles.map(function(t){return i.createElement("li",{key:t.id,className:"list-group-item"},i.createElement(c,t))})),this.props.articles.length?null:i.createElement(l,null))}})},{"../flux":64,"./ArticleEntry":57,"./Button":61,"./Panel":63,"react/addons":"react/addons"}],60:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},i=r(t("react/addons")),o=r(t("docbrown")),u=t("../flux"),c=u.AuthActions,a=u.stores,s=r(t("./Panel")),l=r(t("./Button")),f=n.SignIn=i.createClass({displayName:"SignIn",handleSigninClick:function(){c.signin()},render:function(){return i.createElement(l,{type:"info",label:"Sign in",onClick:this.handleSigninClick})}}),d=n.UserInfo=i.createClass({displayName:"UserInfo",handleSignoutClick:function(){c.signout()},render:function(){return i.createElement("div",null,i.createElement("p",null,"You're signed in."),i.createElement(l,{type:"danger",label:"Sign out",onClick:this.handleSignoutClick}))}});n["default"]=i.createClass({displayName:"Auth",mixins:[o.storeMixin(a.getter("authStore"))],componentDidMount:function(){c.checkAuth()},render:function(){return i.createElement(s,{title:"Authentication"},this.state.authToken?i.createElement(d,this.state):i.createElement(f,null))}}),Object.defineProperty(n,"__esModule",{value:!0})},{"../flux":64,"./Button":61,"./Panel":63,docbrown:"docbrown","react/addons":"react/addons"}],61:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(t("react/addons")),o=n(t("./Icon"));e.exports=i.createClass({displayName:"Button",getDefaultProps:function(){return{type:"default",size:"md",primary:!1}},render:function(){var t={btn:!0};return this.props.type&&(t["btn-"+this.props.type]=!0),this.props.size&&(t["btn-"+this.props.size]=!0),i.createElement("button",r({type:"button",className:i.addons.classSet(t)},this.props),this.props.icon?i.createElement(o,{type:this.props.icon}):null,this.props.label?i.createElement("span",null,this.props.label):null)}})},{"./Icon":62,"react/addons":"react/addons"}],62:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=n(t("react/addons"));e.exports=r.createClass({displayName:"Icon",render:function(){return r.createElement("span",{className:"glyphicon glyphicon-"+this.props.type,"aria-hidden":"true"})}})},{"react/addons":"react/addons"}],63:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=n(t("react/addons"));e.exports=r.createClass({displayName:"Panel",getDefaultProps:function(){return{bodyWrap:!0}},renderPanelBody:function(){return this.props.bodyWrap?r.createElement("div",{className:"panel-body"},this.props.children):this.props.children},render:function(){return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},this.props.title)),this.renderPanelBody())}})},{"react/addons":"react/addons"}],64:[function(t,e,n){"use strict";function r(){var t={};return{clear:function(){t={}},register:function(e){for(var n in e){if(this.has(n))throw new Error("Store "+n+" is already registered.");t[n]=e[n]}},has:function(e){return t.hasOwnProperty(e)},get:function(e){if(this.has(e))return t[e];throw new Error("No '"+e+"' store registered.")},getter:function(t){var e=this;return function(){return e.get(t)}}}}{var i=function(t){return t&&t.__esModule?t["default"]:t},o=i(t("docbrown")),u=i(t("../data/samples.json")),c=n.Dispatcher=o.createDispatcher(),a=n.AuthActions=o.createActions(c,["signin","signout","checkAuth"]),s=(n.AuthStore=o.createStore({actions:[a],initialize:function(t){this.api=t},getInitialState:function(){return{authToken:null}},signin:function(){this.api.signinToFxA()},checkAuth:function(){this.setState({authToken:this.api.checkAuth()})},signout:function(){this.api.signout(),this.setState(this.getInitialState())}}),n.ArticleActions=o.createActions(c,["create","get","edit","update","delete","list","import"]));n.ArticleStore=o.createStore({actions:[s],initialize:function(t){this.api=t},getInitialState:function(){return{articles:[],current:null,error:null,errorType:null}},resetError:function(){this.setState({error:null,errType:null})},setError:function(t){var e=void 0===arguments[1]?null:arguments[1];this.setState({error:t,errType:e})},create:function(t){return this.resetError(),this.api.createArticle(t)},createSuccess:function(){s.list()},createError:function(t){this.setError(t,"create")},get:function(t){return this.resetError(),this.api.getArticle(t)},getSuccess:function(t){this.setState({current:t})},getError:function(t){this.setError(t,"get")},edit:function(t){s.get(t)},update:function(t){return this.resetError(),this.api.updateArticle(t)},updateError:function(t){this.setError(t,"update")},updateSuccess:function(t){this.setState({current:t}),s.list()},"delete":function(t){return this.resetError(),this.api.deleteArticle(t)},deleteSuccess:function(t){var e=this.state.current||{};e.id===t.id&&this.setState({current:null}),s.list()},deleteError:function(t){this.setError(t,"delete")},list:function(t){return this.resetError(),this.api.listArticles(t)},listSuccess:function(t){this.setState({articles:t})},listError:function(t){this.setError(t,"list")},"import":function(){this.resetError();var t=this.api.createBatch();return t.createArticle.apply(t,u).process()},importSuccess:function(t){t.responses.forEach(function(t){console.log("imported",t.body.title,"HTTP",t.status)}),s.list()},importError:function(t){this.setError(t,"import")}}),n.stores=new r}Object.defineProperty(n,"__esModule",{value:!0})},{"../data/samples.json":52,docbrown:"docbrown"}]},{},[1]);
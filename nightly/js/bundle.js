!function e(t,n,r){function i(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e){(function(t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("react/addons")),i=n(e("./api")),o=n(e("./content")),u=e("./flux"),a=u.AuthStore,c=u.ArticleStore,s=u.stores,l=n(e("./components/App")),f="https://readinglist.dev.mozaws.net/v0",d="https://readable-proxy.herokuapp.com/api/get",h=t.env.CLIENT_DEVICE_IDENTIFIER||"readinglist-client",p=!1,m=new i(f,{debug:p}),v=new o(d,{debug:p});s.register({authStore:new a(m,{debug:p}),articleStore:new c(m,v,{clientIdentifier:h,debug:p})}),r.render(r.createElement(l,null),document.querySelector("#app"))}).call(this,e("_process"))},{"./api":53,"./components/App":56,"./content":65,"./flux":66,_process:6,"react/addons":"react/addons"}],2:[function(e){(function(t){"use strict";if(t._6to5Polyfill)throw new Error("only one instance of 6to5/polyfill is allowed");t._6to5Polyfill=!0,e("core-js/shim"),e("regenerator-6to5/runtime")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":3,"regenerator-6to5/runtime":4}],3:[function(e,t){!function(e,n,r){"use strict";function i(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function o(e){return"function"==typeof e}function u(e,t,n){e&&!dn(e=n?e:e[ht],Ln)&&Pn(e,Ln,t)}function a(e){return Zt.call(e).slice(8,-1)}function c(e){var t,n;return e==r?e===r?"Undefined":"Null":"string"==typeof(n=(t=At(e))[Ln])?n:a(t)}function s(){for(var e=O(this),t=arguments.length,n=kt(t),r=0,i=Vn._,o=!1;t>r;)(n[r]=arguments[r++])===i&&(o=!0);return function(){var r,u=this,a=arguments.length,c=0,s=0;if(!o&&!a)return f(e,n,u);if(r=n.slice(),o)for(;t>c;c++)r[c]===i&&(r[c]=arguments[s++]);for(;a>s;)r.push(arguments[s++]);return f(e,r,u)}}function l(e,t,n){if(O(e),~n&&t===r)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){var i=n===r;switch(0|t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);case 5:return i?e(t[0],t[1],t[2],t[3],t[4]):e.call(n,t[0],t[1],t[2],t[3],t[4])}return e.apply(n,t)}function d(e,t){var n=O(arguments.length<3?e:arguments[2])[ht],r=nn(i(n)?n:Jt),o=tn.call(e,r,t);return i(o)?o:r}function h(e){return hn(N(e))}function p(e){return e}function m(){return this}function v(e,t){return dn(e,t)?e[t]:void 0}function y(e){return T(e),ln?sn(e).concat(ln(e)):sn(e)}function g(e,t){for(var n,r=h(e),i=cn(r),o=i.length,u=0;o>u;)if(r[n=i[u++]]===t)return n}function w(e){return Ct(e).split(",")}function b(e){var t=1==e,n=2==e,i=3==e,o=4==e,u=6==e,a=5==e||u;return function(c){for(var s,f,d=At(N(this)),h=arguments[1],p=hn(d),m=l(c,h,3),v=k(p.length),y=0,g=t?kt(v):n?[]:r;v>y;y++)if((a||y in p)&&(s=p[y],f=m(s,y,d),e))if(t)g[y]=f;else if(f)switch(e){case 3:return!0;case 5:return s;case 6:return y;case 2:g.push(s)}else if(o)return!1;return u?-1:i||o?o:g}}function x(e){return function(t){var n=h(this),r=k(n.length),i=C(arguments[1],r);if(e&&t!=t){for(;r>i;i++)if(_(n[i]))return e||i}else for(;r>i;i++)if((e||i in n)&&n[i]===t)return e||i;return!e&&-1}}function E(e,t){return"function"==typeof e?e:t}function _(e){return e!=e}function A(e){return isNaN(e)?0:kn(e)}function k(e){return e>0?_n(A(e),yn):0}function C(e,t){var e=A(e);return 0>e?En(e+t,0):_n(e,t)}function j(e,t,n){var r=i(t)?function(e){return t[e]}:t;return function(t){return Ct(n?t:this).replace(e,r)}}function P(e){return function(t){var n,i,o=Ct(N(this)),u=A(t),a=o.length;return 0>u||u>=a?e?"":r:(n=o.charCodeAt(u),55296>n||n>56319||u+1===a||(i=o.charCodeAt(u+1))<56320||i>57343?e?o.charAt(u):n:e?o.slice(u,u+2):(n-55296<<10)+(i-56320)+65536)}}function S(e,t,n){if(!e)throw Lt(n?t+n:t)}function N(e){if(e==r)throw Lt("Function called on null or undefined");return e}function O(e){return S(o(e),e," is not a function!"),e}function T(e){return S(i(e),e," is not an object!"),e}function R(e,t,n){S(e instanceof t,n,": use the 'new' operator!")}function I(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function L(e,t,n){return e[t]=n,e}function F(e){return Cn?function(t,n,r){return un(t,n,I(e,r))}:L}function D(e){return st+"("+e+")_"+(++jn+An())[mt](36)}function M(e,t){return Rt&&Rt[e]||(t?Rt:Nn)(st+Kt+e)}function U(e,t){for(var n in t)Pn(e,n,t[n]);return e}function q(e){(n||!Xt(e))&&un(e,Rn,{configurable:!0,get:m})}function z(e,t){Pn(e,In,t),Fn&&Pn(e,bt,t)}function B(e,t,n,r){e[ht]=nn(r||zn,{next:I(1,n)}),u(e,t+" Iterator")}function H(e,t,r,i){var o=e[ht],a=v(o,In)||v(o,bt)||i&&v(o,i)||r;if(n&&(z(o,a),a!==r)){var c=rn(a.call(new e));u(c,t+" Iterator",!0),dn(o,bt)&&z(c,m)}return qn[t]=a,qn[t+" Iterator"]=m,a}function Q(e,t,n,r,i,o){function u(e){return function(){return new n(this,e)}}B(n,t,r);var a=u(Mn+Un),c=u(Un);i==Un?c=H(e,t,c,"values"):a=H(e,t,a,"entries"),i&&$(Xn+Yn*Hn,t,{entries:a,keys:o?c:u(Mn),values:c})}function G(e,t){return{value:t,done:!!e}}function W(t){var n=At(t),r=e[st],i=(r&&r[wt]||bt)in n;return i||In in n||dn(qn,c(n))}function V(t){var n=e[st],r=t[n&&n[wt]||bt],i=r||t[In]||qn[c(t)];return T(i.call(t))}function J(e,t,n){return n?f(e,t):e(t)}function Y(e,t,n,r){for(var i,o=V(e),u=l(n,r,t?2:1);!(i=o.next()).done;)if(J(u,i.value,t)===!1)return}function $(t,r,i){var u,a,c,s,f=t&$n,d=f?e:t&Kn?e[r]:(e[r]||Jt)[ht],h=f?Wn:Wn[r]||(Wn[r]={});f&&(i=r);for(u in i)a=!(t&Yn)&&d&&u in d&&(!o(d[u])||Xt(d[u])),c=(a?d:i)[u],n||!f||o(d[u])?t&Zn&&a?s=l(c,e):t&er&&!n&&d[u]==c?(s=function(e){return this instanceof c?new c(e):c(e)},s[ht]=c[ht]):s=t&Xn&&o(c)?l(en,c):c:s=i[u],n&&d&&!a&&(f||t&tr?d[u]=c:delete d[u]&&Pn(d,u,c)),h[u]!=c&&Pn(h,u,s)}var K,X="Object",Z="Function",et="Array",tt="String",nt="Number",rt="RegExp",it="Date",ot="Map",ut="Set",at="WeakMap",ct="WeakSet",st="Symbol",lt="Promise",ft="Math",dt="Arguments",ht="prototype",pt="constructor",mt="toString",vt=mt+"Tag",yt="hasOwnProperty",gt="forEach",wt="iterator",bt="@@"+wt,xt="process",Et="createElement",_t=e[Z],At=e[X],kt=e[et],Ct=e[tt],jt=e[nt],Pt=e[rt],St=(e[it],e[ot]),Nt=e[ut],Ot=e[at],Tt=e[ct],Rt=e[st],It=e[ft],Lt=e.TypeError,Ft=e.RangeError,Dt=e.setTimeout,Mt=e.setImmediate,Ut=e.clearImmediate,qt=e.parseInt,zt=e.isFinite,Bt=e[xt],Ht=Bt&&Bt.nextTick,Qt=e.document,Gt=Qt&&Qt.documentElement,Wt=(e.navigator,e.define),Vt=kt[ht],Jt=At[ht],Yt=_t[ht],$t=1/0,Kt=".",Xt=l(/./.test,/\[native code\]\s*\}\s*$/,1),Zt=Jt[mt],en=Yt.call,tn=Yt.apply,nn=At.create,rn=At.getPrototypeOf,on=At.setPrototypeOf,un=At.defineProperty,an=(At.defineProperties,At.getOwnPropertyDescriptor),cn=At.keys,sn=At.getOwnPropertyNames,ln=At.getOwnPropertySymbols,fn=At.isFrozen,dn=l(en,Jt[yt],2),hn=At,pn=At.assign||function(e){for(var t=At(N(e)),n=arguments.length,r=1;n>r;)for(var i,o=hn(arguments[r++]),u=cn(o),a=u.length,c=0;a>c;)t[i=u[c++]]=o[i];return t},mn=Vt.push,vn=(Vt.unshift,Vt.slice,Vt.splice,Vt.indexOf,Vt[gt]),yn=9007199254740991,gn=It.pow,wn=It.abs,bn=It.ceil,xn=It.floor,En=It.max,_n=It.min,An=It.random,kn=It.trunc||function(e){return(e>0?xn:bn)(e)},Cn=!!function(){try{return 2==un({},"a",{get:function(){return 2}}).a}catch(e){}}(),jn=0,Pn=F(1),Sn=Rt?L:Pn,Nn=Rt||D,On=M("unscopables"),Tn=Vt[On]||{},Rn=M("species"),In=M(wt),Ln=M(vt),Fn=bt in Vt,Dn=Nn("iter"),Mn=1,Un=2,qn={},zn={},Bn=In in Vt,Hn="keys"in Vt&&!("next"in[].keys());z(zn,m);var Qn,Gn=a(Bt)==xt,Wn={},Vn=n?e:Wn,Jn=e.core,Yn=1,$n=2,Kn=4,Xn=8,Zn=16,er=32,tr=64;"undefined"!=typeof t&&t.exports?t.exports=Wn:o(Wt)&&Wt.amd?Wt(function(){return Wn}):Qn=!0,(Qn||n)&&(Wn.noConflict=function(){return e.core=Jn,Wn},e.core=Wn),!function(e,t,n,r){Xt(Rt)||(Rt=function(t){S(!(this instanceof Rt),st+" is not a "+pt);var i=D(t),o=Sn(nn(Rt[ht]),e,i);return n[i]=o,Cn&&r&&un(Jt,i,{configurable:!0,set:function(e){Pn(this,i,e)}}),o},Pn(Rt[ht],mt,function(){return this[e]})),$($n+er,{Symbol:Rt});var i={"for":function(e){return dn(t,e+="")?t[e]:t[e]=Rt(e)},iterator:In,keyFor:s.call(g,t),species:Rn,toStringTag:Ln=M(vt,!0),unscopables:On,pure:Nn,set:Sn,useSetter:function(){r=!0},useSimple:function(){r=!1}};vn.call(w("hasInstance,isConcatSpreadable,match,replace,search,split,toPrimitive"),function(e){i[e]=M(e)}),$(Kn,st,i),u(Rt,st),$(Kn+Yn*!Xt(Rt),X,{getOwnPropertyNames:function(e){for(var t,r=sn(h(e)),i=[],o=0;r.length>o;)dn(n,t=r[o++])||i.push(t);return i},getOwnPropertySymbols:function(e){for(var t,r=sn(h(e)),i=[],o=0;r.length>o;)dn(n,t=r[o++])&&i.push(n[t]);return i}})}(Nn("tag"),{},{},!0),!function(t){var r={assign:pn,is:function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}};"__proto__"in Jt&&function(e,t){try{t=l(en,an(Jt,"__proto__").set,2),t({},Vt)}catch(n){e=!0}r.setPrototypeOf=on=on||function(n,r){return T(n),S(null===r||i(r),r,": can't set as prototype!"),e?n.__proto__=r:t(n,r),n}}(),$(Kn,X,r),n&&(t[Ln]=Kt,a(t)!=Kt&&Pn(Jt,mt,function(){return"[object "+c(this)+"]"})),u(It,ft,!0),u(e.JSON,"JSON",!0)}({}),!function(){function e(e,t){var n=At[e],r=Wn[X][e],o=0,u={};if(!r||Xt(r)){u[e]=1==t?function(e){return i(e)?n(e):e}:2==t?function(e){return i(e)?n(e):!0}:3==t?function(e){return i(e)?n(e):!1}:4==t?function(e,t){return n(h(e),t)}:function(e){return n(h(e))};try{n(Kt)}catch(a){o=1}$(Kn+Yn*o,X,u)}}e("freeze",1),e("seal",1),e("preventExtensions",1),e("isFrozen",2),e("isSealed",2),e("isExtensible",3),e("getOwnPropertyDescriptor",4),e("getPrototypeOf"),e("keys"),e("getOwnPropertyNames")}(),!function(e){e in Yt||un(Yt,e,{configurable:!0,get:function(){var t=Ct(this).match(/^\s*function ([^ (]*)/),n=t?t[1]:"";return dn(this,e)||un(this,e,I(5,n)),n},set:function(t){dn(this,e)||un(this,e,I(0,t))}})}("name"),jt("0o1")&&jt("0b1")||function(t,n){function r(e){if(i(e)&&(e=u(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return qt(e.slice(2),t?2:8)}}return+e}function u(e){var t,n;if(o(t=e.valueOf)&&!i(n=t.call(e)))return n;if(o(t=e[mt])&&!i(n=t.call(e)))return n;throw Lt("Can't convert object to number")}jt=function a(e){return this instanceof a?new t(r(e)):r(e)},vn.call(Cn?sn(t):w("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY"),function(e){e in jt||un(jt,e,an(t,e))}),jt[ht]=n,n[pt]=jt,Pn(e,nt,jt)}(jt,jt[ht]),!function(e){$(Kn,nt,{EPSILON:gn(2,-52),isFinite:function(e){return"number"==typeof e&&zt(e)},isInteger:e,isNaN:_,isSafeInteger:function(t){return e(t)&&wn(t)<=yn},MAX_SAFE_INTEGER:yn,MIN_SAFE_INTEGER:-yn,parseFloat:parseFloat,parseInt:qt})}(jt.isInteger||function(e){return!i(e)&&zt(e)&&xn(e)===e}),!function(){function e(t){return zt(t=+t)&&0!=t?0>t?-e(-t):i(t+o(t*t+1)):t}function t(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:r(e)-1}var n=It.E,r=It.exp,i=It.log,o=It.sqrt,u=It.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1};$(Kn,ft,{acosh:function(e){return(e=+e)<1?0/0:zt(e)?i(e/n+o(e+1)*o(e-1)/n)+1:e},asinh:e,atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2},cbrt:function(e){return u(e=+e)*gn(wn(e),1/3)},clz32:function(e){return(e>>>=0)?32-e[mt](2).length:32},cosh:function(e){return(r(e=+e)+r(-e))/2},expm1:t,fround:function(e){return new Float32Array([e])[0]},hypot:function(){for(var e,t=0,n=arguments.length,r=n,i=kt(n),u=-$t;n--;){if(e=i[n]=+arguments[n],e==$t||e==-$t)return $t;e>u&&(u=e)}for(u=e||1;r--;)t+=gn(i[r]/u,2);return u*o(t)},imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,u=n&i;return 0|o*u+((n&r>>>16)*u+o*(n&i>>>16)<<16>>>0)},log1p:function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:i(1+e)},log10:function(e){return i(e)/It.LN10},log2:function(e){return i(e)/It.LN2},sign:u,sinh:function(e){return wn(e=+e)<1?(t(e)-t(-e))/2:(r(e-1)-r(-e-1))*(n/2)},tanh:function(e){var n=t(e=+e),i=t(-e);return n==$t?1:i==$t?-1:(n-i)/(r(e)+r(-e))},trunc:kn})}(),!function(e){function t(e){if(a(e)==rt)throw Lt()}$(Kn,tt,{fromCodePoint:function(){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],C(t,1114111)!==t)throw Ft(t+" is not a valid code point");n.push(65536>t?e(t):e(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")},raw:function(e){for(var t=h(e.raw),n=k(t.length),r=arguments.length,i=[],o=0;n>o;)i.push(Ct(t[o++])),r>o&&i.push(Ct(arguments[o]));return i.join("")}}),$(Xn,tt,{codePointAt:P(!1),endsWith:function(e){t(e);var n=Ct(N(this)),i=arguments[1],o=k(n.length),u=i===r?o:_n(k(i),o);return e+="",n.slice(u-e.length,u)===e},includes:function(e){return t(e),!!~Ct(N(this)).indexOf(e,arguments[1])},repeat:function(e){var t=Ct(N(this)),n="",r=A(e);if(0>r||r==$t)throw Ft("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},startsWith:function(e){t(e);var n=Ct(N(this)),r=k(_n(arguments[1],n.length));return e+="",n.slice(r,r+e.length)===e}})}(Ct.fromCharCode),!function(){$(Kn,et,{from:function(e){var t,n,i,o,u=At(N(e)),a=arguments[1],c=a!==r,s=c?l(a,arguments[2],2):r,f=0;if(W(u))for(i=V(u),n=new(E(this,kt));!(o=i.next()).done;f++)n[f]=c?s(o.value,f):o.value;else for(n=new(E(this,kt))(t=k(u.length));t>f;f++)n[f]=c?s(u[f],f):u[f];return n.length=f,n},of:function(){for(var e=0,t=arguments.length,n=new(E(this,kt))(t);t>e;)n[e]=arguments[e++];return n.length=t,n}}),$(Xn,et,{copyWithin:function(e,t){var n=At(N(this)),i=k(n.length),o=C(e,i),u=C(t,i),a=arguments[2],c=a===r?i:C(a,i),s=_n(c-u,i-o),l=1;for(o>u&&u+s>o&&(l=-1,u=u+s-1,o=o+s-1);s-->0;)u in n?n[o]=n[u]:delete n[o],o+=l,u+=l;return n},fill:function(e){for(var t=At(N(this)),n=k(t.length),i=C(arguments[1],n),o=arguments[2],u=o===r?n:C(o,n);u>i;)t[i++]=e;return t},find:b(5),findIndex:b(6)}),n&&(vn.call(w("find,findIndex,fill,copyWithin,entries,keys,values"),function(e){Tn[e]=!0}),On in Vt||Pn(Vt,On,Tn)),q(kt)}(),!function(e){Q(kt,et,function(e,t){Sn(this,Dn,{o:h(e),i:0,k:t})},function(){var e=this[Dn],t=e.o,n=e.k,i=e.i++;return!t||i>=t.length?(e.o=r,G(1)):n==Mn?G(0,i):n==Un?G(0,t[i]):G(0,[i,t[i]])},Un),qn[dt]=qn[et],Q(Ct,tt,function(e){Sn(this,Dn,{o:Ct(e),i:0})},function(){var t,n=this[Dn],r=n.o,i=n.i;return i>=r.length?G(1):(t=e.call(r,i),n.i+=t.length,G(0,t))})}(P(!0)),!function(t,n){function i(e){return function(){return S(a(this)===rt),e(this)}}Cn&&!function(){try{return"/a/i"==Pt(/a/g,"i")}catch(e){}}()&&(Pt=function(e,t){return new n(a(e)==rt&&t!==r?e.source:e,t)},vn.call(sn(n),function(e){e in Pt||un(Pt,e,{configurable:!0,get:function(){return n[e]},set:function(t){n[e]=t}})}),t[pt]=Pt,Pt[ht]=t,Pn(e,rt,Pt)),"g"!=/./g.flags&&un(t,"flags",{configurable:!0,get:i(j(/^.*\/(\w*)$/,"$1",!0))}),vn.call(w("sticky,unicode"),function(e){e in/./||un(t,e,Cn?{configurable:!0,get:i(function(){return!1})}:I(5,!1))}),q(Pt)}(Pt[ht],Pt),o(Mt)&&o(Ut)||function(t){function n(e){if(dn(m,e)){var t=m[e];delete m[e],t()}}function r(e){n(e.data)}var i,u,a,c=e.postMessage,d=e.addEventListener,h=e.MessageChannel,p=0,m={};Mt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++p]=function(){f(o(e)?e:_t(e),t)},i(p),p},Ut=function(e){delete m[e]},Gn?i=function(e){Ht(s.call(n,e))}:d&&o(c)&&!e.importScripts?(i=function(e){c(e,"*")},d("message",r,!1)):o(h)?(u=new h,a=u.port2,u.port1.onmessage=r,i=l(a.postMessage,a,1)):i=Qt&&t in Qt[Et]("script")?function(e){Gt.appendChild(Qt[Et]("script"))[t]=function(){Gt.removeChild(this),n(e)}}:function(e){Dt(n,0,e)}}("onreadystatechange"),$($n+Zn,{setImmediate:Mt,clearImmediate:Ut}),!function(e,t){o(e)&&o(e.resolve)&&e.resolve(t=new e(function(){}))==t||function(t,n){function u(e){var t;return i(e)&&(t=e.then),o(t)?t:!1}function a(e){var n=e.chain;n.length&&t(function(){for(var t=e.msg,r=1==e.state,i=0;n.length>i;)!function(e){var n,i,o=r?e.ok:e.fail;try{o?(n=o===!0?t:o(t),n===e.P?e.rej(Lt(lt+"-chain cycle")):(i=u(n))?i.call(n,e.res,e.rej):e.res(n)):e.rej(t)}catch(a){e.rej(a)}}(n[i++]);n.length=0})}function c(e){var t,n,r=this;if(!r.done){r.done=!0,r=r.def||r;try{(t=u(e))?(n={def:r,done:!1},t.call(e,l(c,n,1),l(s,n,1))):(r.msg=e,r.state=1,a(r))}catch(i){s.call(n||{def:r,done:!1},i)}}}function s(e){var t=this;t.done||(t.done=!0,t=t.def||t,t.msg=e,t.state=2,a(t))}function f(e){var t=T(e)[Rn];return t!=r?t:e}e=function(t){O(t),R(this,e,lt);var i={chain:[],state:0,done:!1,msg:r};Pn(this,n,i);try{t(l(c,i,1),l(s,i,1))}catch(o){s.call(i,o)}},U(e[ht],{then:function(t,i){var u=T(T(this)[pt])[Rn],c={ok:o(t)?t:!0,fail:o(i)?i:!1},s=c.P=new(u!=r?u:e)(function(e,t){c.res=O(e),c.rej=O(t)}),l=this[n];return l.chain.push(c),l.state&&a(l),s},"catch":function(e){return this.then(r,e)}}),U(e,{all:function(e){var t=f(this),n=[];return new t(function(r,i){Y(e,!1,mn,n);var o=n.length,u=kt(o);o?vn.call(n,function(e,n){t.resolve(e).then(function(e){u[n]=e,--o||r(u)},i)}):r(u)})},race:function(e){var t=f(this);return new t(function(n,r){Y(e,!1,function(e){t.resolve(e).then(n,r)})})},reject:function(e){return new(f(this))(function(t,n){n(e)})},resolve:function(e){return i(e)&&n in e&&rn(e)===this[ht]?e:new(f(this))(function(t){t(e)})}})}(Ht||Mt,Nn("def")),u(e,lt),q(e),$($n+Yn*!Xt(e),{Promise:e})}(e[lt]),!function(){function e(e,t,i,o,a,c){function s(e,t){return t!=r&&Y(t,a,e[h],e),e}function l(e,t){var r=p[e];n&&(p[e]=function(e,n){var i=r.call(this,0===e?0:e,n);return t?this:i})}var h=a?"set":"add",p=e&&e[ht],w={};if(Xt(e)&&(c||!Hn&&dn(p,gt)&&dn(p,"entries"))){var b,x=e,E=new e,_=E[h](c?{}:-0,1);Bn&&e.length||(e=function(n){return R(this,e,t),s(new x,n)},e[ht]=p,n&&(p[pt]=e)),c||E[gt](function(e,t){b=1/t===-$t}),b&&(l("delete"),l("has"),a&&l("get")),(b||_!==E)&&l(h,!0)}else e=c?function(n){R(this,e,t),Sn(this,f,g++),s(this,n)}:function(n){var i=this;R(i,e,t),Sn(i,d,nn(null)),Sn(i,y,0),Sn(i,m,r),Sn(i,v,r),s(i,n)},U(U(e[ht],i),o),c||un(e[ht],"size",{get:function(){return N(this[y])}});return u(e,t),q(e),w[t]=e,$($n+er+Yn*!Xt(e),w),c||Q(e,t,function(e,t){Sn(this,Dn,{o:e,k:t})},function(){for(var e=this[Dn],t=e.k,n=e.l;n&&n.r;)n=n.p;return e.o&&(e.l=n=n?n.n:e.o[v])?t==Mn?G(0,n.k):t==Un?G(0,n.v):G(0,[n.k,n.v]):(e.o=r,G(1))},a?Mn+Un:Un,!a),e}function t(e,t){if(!i(e))return("string"==typeof e?"S":"P")+e;if(fn(e))return"F";if(!dn(e,f)){if(!t)return"E";Pn(e,f,++g)}return"O"+e[f]}function o(e,n){var r,i=t(n);if("F"!=i)return e[d][i];for(r=e[v];r;r=r.n)if(r.k==n)return r}function a(e,n,i){var u,a,c=o(e,n);return c?c.v=i:(e[m]=c={i:a=t(n,!0),k:n,v:i,p:u=e[m],n:r,r:!1},e[v]||(e[v]=c),u&&(u.n=c),e[y]++,"F"!=a&&(e[d][a]=c)),e}function c(e,t,n){return fn(T(t))?s(e).set(t,n):(dn(t,h)||Pn(t,h,{}),t[h][e[f]]=n),e}function s(e){return e[p]||Pn(e,p,new St)[p]}var f=Nn("uid"),d=Nn("O1"),h=Nn("weak"),p=Nn("leak"),m=Nn("last"),v=Nn("first"),y=Cn?Nn("size"):"size",g=0,b={},x={clear:function(){for(var e=this,t=e[d],n=e[v];n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=r),delete t[n.i];e[v]=e[m]=r,e[y]=0},"delete":function(e){var t=this,n=o(t,e);if(n){var r=n.n,i=n.p;delete t[d][n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t[v]==n&&(t[v]=r),t[m]==n&&(t[m]=i),t[y]--}return!!n},forEach:function(e){for(var t,n=l(e,arguments[1],3);t=t?t.n:this[v];)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(this,e)}};St=e(St,ot,{get:function(e){var t=o(this,e);return t&&t.v},set:function(e,t){return a(this,0===e?0:e,t)}},x,!0),Nt=e(Nt,ut,{add:function(e){return a(this,e=0===e?0:e,e)}},x);var E={"delete":function(e){return i(e)?fn(e)?s(this)["delete"](e):dn(e,h)&&dn(e[h],this[f])&&delete e[h][this[f]]:!1},has:function(e){return i(e)?fn(e)?s(this).has(e):dn(e,h)&&dn(e[h],this[f]):!1}};Ot=e(Ot,at,{get:function(e){if(i(e)){if(fn(e))return s(this).get(e);if(dn(e,h))return e[h][this[f]]}},set:function(e,t){return c(this,e,t)}},E,!0,!0),n&&7!=(new Ot).set(At.freeze(b),7).get(b)&&vn.call(w("delete,has,get,set"),function(e){var t=Ot[ht][e];Ot[ht][e]=function(n,r){if(i(n)&&fn(n)){var o=s(this)[e](n,r);return"set"==e?this:o}return t.call(this,n,r)}}),Tt=e(Tt,ct,{add:function(e){return c(this,e,!0)}},E,!1,!0)}(),!function(){function e(e){var t,n=[];for(t in e)n.push(t);Sn(this,Dn,{o:e,a:n,i:0})}function t(e){return function(t){T(t);try{return e.apply(r,arguments),!0}catch(n){return!1}}}function n(e,t){var o,u=arguments.length<3?e:arguments[2],a=an(T(e),t);return a?dn(a,"value")?a.value:a.get===r?r:a.get.call(u):i(o=rn(e))?n(o,t,u):r}function o(e,t,n){var u,a,c=arguments.length<4?e:arguments[3],s=an(T(e),t);if(!s){if(i(a=rn(e)))return o(a,t,n,c);s=I(0)}return dn(s,"value")?s.writable!==!1&&i(c)?(u=an(c,t)||I(0),u.value=n,un(c,t,u),!0):!1:s.set===r?!1:(s.set.call(c,n),!0)}B(e,X,function(){var e,t=this[Dn],n=t.a;do if(t.i>=n.length)return G(1);while(!((e=n[t.i++])in t.o));return G(0,e)});var u=At.isExtensible||p,a={apply:l(en,tn,3),construct:d,defineProperty:t(un),deleteProperty:function(e,t){var n=an(T(e),t);return n&&!n.configurable?!1:delete e[t]},enumerate:function(t){return new e(T(t))},get:n,getOwnPropertyDescriptor:function(e,t){return an(T(e),t)},getPrototypeOf:function(e){return rn(T(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!u(T(e))},ownKeys:y,preventExtensions:t(At.preventExtensions||p),set:o};on&&(a.setPrototypeOf=function(e,t){return on(T(e),t),!0}),$($n,{Reflect:{}}),$(Kn,"Reflect",a)}(),!function(){function e(e){return function(t){var n,r=h(t),i=cn(t),o=i.length,u=0,a=kt(o);if(e)for(;o>u;)a[u]=[n=i[u++],r[n]];else for(;o>u;)a[u]=r[i[u++]];return a}}$(Xn,et,{includes:x(!0)}),$(Xn,tt,{at:P(!0)}),$(Kn,X,{values:e(!1),entries:e(!0)}),$(Kn,rt,{escape:j(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)})}(),!function(e){function t(e){if(e){var t=e[ht];Pn(t,K,t.get),Pn(t,n,t.set),Pn(t,r,t["delete"])}}K=M(e+"Get",!0);var n=M(e+ut,!0),r=M(e+"Delete",!0);$(Kn,st,{referenceGet:K,referenceSet:n,referenceDelete:r}),Pn(Yt,K,m),t(St),t(Ot)}("reference"),!function(e){function t(t,n){vn.call(w(t),function(t){t in Vt&&(e[t]=l(en,Vt[t],n))})}t("pop,reverse,shift,keys,values,entries",1),t("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),t("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),$(Kn,et,e)}({}),!function(e){!n||!e||In in e[ht]||Pn(e[ht],In,qn[et]),qn.NodeList=qn[et]}(e.NodeList)}("undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),!0)},{}],4:[function(e,t){(function(e){!function(e){"use strict";function n(e,t,n,r){return new u(e,t,n||null,r||[])}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function u(e,t,n,i){function o(t,i){if(c===w)throw new Error("Generator is already running");if(c===b)return f();for(;;){var o=a.delegate;if(o){var u=r(o.iterator[t],o.iterator,i);if("throw"===u.type){a.delegate=null,t="throw",i=u.arg;continue}t="next",i=d;var s=u.arg;if(!s.done)return c=g,s;a[o.resultName]=s.value,a.next=o.nextLoc,a.delegate=null}if("next"===t){if(c===y&&"undefined"!=typeof i)throw new TypeError("attempt to send "+JSON.stringify(i)+" to newborn generator");c===g?a.sent=i:delete a.sent}else if("throw"===t){if(c===y)throw c=b,i;a.dispatchException(i)&&(t="next",i=d)}else"return"===t&&a.abrupt("return",i);c=w;var u=r(e,n,a);if("normal"===u.type){c=a.done?b:g;var s={value:u.arg,done:a.done};if(u.arg!==x)return s;a.delegate&&"next"===t&&(i=d)}else"throw"===u.type&&(c=b,"next"===t?a.dispatchException(u.arg):i=u.arg)}}var u=t?Object.create(t.prototype):this,a=new s(i),c=y;return u.next=o.bind(u,"next"),u["throw"]=o.bind(u,"throw"),u["return"]=o.bind(u,"return"),u}function a(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function s(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(a,this),this.reset()}function l(e){if(e){var t=e[p];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(h.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=d,i.done=!0,i};return r.next=r}}return{next:f}}function f(){return{value:d,done:!0}}var d,h=Object.prototype.hasOwnProperty,p="function"==typeof Symbol&&Symbol.iterator||"@@iterator",m="object"==typeof t,v=e.regeneratorRuntime;if(v)return void(m&&(t.exports=v));v=e.regeneratorRuntime=m?t.exports:{},v.wrap=n;var y="suspendedStart",g="suspendedYield",w="executing",b="completed",x={},E=o.prototype=u.prototype;i.prototype=E.constructor=o,o.constructor=i,i.displayName="GeneratorFunction",v.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===i||"GeneratorFunction"===(t.displayName||t.name):!1},v.mark=function(e){return e.__proto__=o,e.prototype=Object.create(E),e},v.async=function(e,t,i,o){return new Promise(function(u,a){function c(e){var t=r(this,null,e);if("throw"===t.type)return void a(t.arg);var n=t.arg;n.done?u(n.value):Promise.resolve(n.value).then(l,f)}var s=n(e,t,i,o),l=c.bind(s.next),f=c.bind(s["throw"]);l()})},E[p]=function(){return this},E.toString=function(){return"[object Generator]"},v.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},v.values=l,s.prototype={constructor:s,reset:function(){this.prev=0,this.next=0,this.sent=d,this.done=!1,this.delegate=null,this.tryEntries.forEach(c);for(var e,t=0;h.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var u=h.call(i,"catchLoc"),a=h.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},_findFinallyEntry:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&(n.finallyLoc===e||this.prev<n.finallyLoc))return n}},abrupt:function(e,t){var n=this._findFinallyEntry(),r=n?n.completion:{};return r.type=e,r.arg=t,n?this.next=n.finallyLoc:this.complete(r),x},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){var t=this._findFinallyEntry(e);return this.complete(t.completion,t.afterLoc)},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;c(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:l(e),resultName:t,nextLoc:n},x}}}("object"==typeof e?e:"object"==typeof window?window:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t){t.exports=e("./lib/6to5/polyfill")},{"./lib/6to5/polyfill":2}],6:[function(e,t){function n(){if(!u){u=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}u=!1}}function r(){}var i=t.exports={},o=[],u=!1;i.nextTick=function(e){o.push(e),u||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],7:[function(e,t){!function(e,t){"use strict";var n;e(function(e){function r(e,t){var n,r,i,o;if(n=e,i={},t){for(r in t)o=new RegExp("\\{"+r+"\\}"),o.test(n)?n=n.replace(o,encodeURIComponent(t[r]),"g"):i[r]=t[r];for(r in i)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==i[r]&&void 0!==i[r]&&(n+="=",n+=encodeURIComponent(i[r]))}return n}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=u({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var u,a,c,s,l;return u=e("./util/mixin"),c=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,s=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,l=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,u({},this._params,t))},fullyQualify:function(){if(!t)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=a.protocol+e:i(e,"/")?e=a.origin+e:this.isAbsolute()||(e=a.origin+a.pathname.substring(0,a.pathname.lastIndexOf("/")+1)),-1===e.indexOf("/",8)&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return s.test(this.build())},isFullyQualified:function(){return l.test(this.build())},isCrossOrigin:function(){if(!a)return!0;var e=this.parts();return e.protocol!==a.protocol||e.hostname!==a.hostname||e.port!==a.port},parts:function(){var e,t;return e=this.fullyQualify().build().match(c),t={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},t.origin=t.protocol+"//"+t.host,t.port=t.port||("https:"===t.protocol?"443":"http:"===t.protocol?"80":""),t},build:function(e){return r(this._template,u({},this._params,e))},toString:function(){return this.build()}},a=t?new o(t.href).parts():n,o})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":47}],8:[function(e,t){!function(e){"use strict";e(function(e){var t=e("./client/default"),n=e("./client/xhr");return t.setPlatformDefaultClient(n),t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./client/default":10,"./client/xhr":11}],9:[function(e,t){!function(e){"use strict";e(function(){return function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,n){return t(e,n)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],10:[function(e,t){!function(e){"use strict";var t;e(function(e){function n(){return i.apply(t,arguments)}var r,i,o;return r=e("../client"),n.setDefaultClient=function(e){i=e},n.getDefaultClient=function(){return i},n.resetDefaultClient=function(){i=o},n.setPlatformDefaultClient=function(e){if(o)throw new Error("Unable to redefine platformDefaultClient");i=o=e},r(n)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../client":9}],11:[function(e,t){!function(e,t){"use strict";e(function(e){function n(e){var t={};return e?(e.trim().split(s).forEach(function(e){var n,r,i;n=e.indexOf(":"),r=u(e.substring(0,n).trim()),i=e.substring(n+1).trim(),t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}),t):t}function r(e,t){return Object.keys(t||{}).forEach(function(n){if(t.hasOwnProperty(n)&&n in e)try{e[n]=t[n]}catch(r){}}),e}var i,o,u,a,c,s;return i=e("when"),o=e("../UrlBuilder"),u=e("../util/normalizeHeaderName"),a=e("../util/responsePromise"),c=e("../client"),s=/[\r|\n]+/,c(function(e){return a.promise(function(i,u){var a,c,s,l,f,d,h,p;if(e="string"==typeof e?{path:e}:e||{},h={request:e},e.canceled)return h.error="precanceled",void u(h);
if(p=e.engine||t.XMLHttpRequest,!p)return void u({request:e,error:"xhr-not-available"});f=e.entity,e.method=e.method||(f?"POST":"GET"),c=e.method,s=new o(e.path||"",e.params).build();try{a=h.raw=new p,r(a,e.mixin),a.open(c,s,!0),r(a,e.mixin),l=e.headers;for(d in l)("Content-Type"!==d||"multipart/form-data"!==l[d])&&a.setRequestHeader(d,l[d]);e.canceled=!1,e.cancel=function(){e.canceled=!0,a.abort(),u(h)},a.onreadystatechange=function(){e.canceled||a.readyState===(p.DONE||4)&&(h.status={code:a.status,text:a.statusText},h.headers=n(a.getAllResponseHeaders()),h.entity=a.responseText,h.status.code>0?i(h):setTimeout(function(){i(h)},0))};try{a.onerror=function(){h.error="loaderror",u(h)}}catch(m){}a.send(f)}catch(m){h.error="loaderror",u(h)}})})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":7,"../client":9,"../util/normalizeHeaderName":48,"../util/responsePromise":49,when:43}],12:[function(e,t){!function(e){"use strict";e(function(e){function t(e){return e}function n(e){return e}function r(e){return e}function i(e){return f.promise(function(t,n){e.forEach(function(e){f(e,t,n)})})}function o(e){return this instanceof o?void c(this,e):new o(e)}function u(e){var u,c,d,h;return e=e||{},u=e.init||t,c=e.request||n,d=e.success||e.response||r,h=e.error||function(){return f((e.response||r).apply(this,arguments),f.reject,f.reject)},function(t,n){function r(e){var u,a;return u={},a={arguments:Array.prototype.slice.call(arguments),client:r},e="string"==typeof e?{path:e}:e||{},e.originator=e.originator||r,s(c.call(u,e,n,a),function(e){var r,c,s;return s=t,e instanceof o&&(c=e.abort,s=e.client||s,r=e.response,e=e.request),r=r||f(e,function(e){return f(s(e),function(e){return d.call(u,e,n,a)},function(e){return h.call(u,e,n,a)})}),c?i([r,c]):r},function(t){return f.reject({request:e,error:t})})}return"object"==typeof t&&(n=t),"function"!=typeof t&&(t=e.client||a),n=u(n||{}),l(r,t)}}var a,c,s,l,f;return a=e("./client/default"),c=e("./util/mixin"),s=e("./util/responsePromise"),l=e("./client"),f=e("when"),u.ComplexRequest=o,u})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./client":9,"./client/default":10,"./util/mixin":47,"./util/responsePromise":49,when:43}],13:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r;return t=e("../interceptor"),n=e("../util/mixin"),r=function(){function e(e,t,r){(e in t||e in r)&&(t[e]=n({},r[e],t[e]))}function t(e,t,n){e in n&&!(e in t)&&(t[e]=n[e])}var r={method:t,path:t,params:e,headers:e,entity:t,mixin:e};return function(e,t){for(var n in r)r[n](n,e,t);return e}}(),t({request:function(e,t){return r(e,t)}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":12,"../util/mixin":47}],14:[function(e,t){!function(e){"use strict";e(function(e){var t,n;return t=e("../interceptor"),n=e("when"),t({init:function(e){return e.code=e.code||400,e},response:function(e,t){return e.status&&e.status.code>=t.code?n.reject(e):e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":12,when:43}],15:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r,i;return t=e("../interceptor"),n=e("./pathPrefix"),r=e("../parsers/rfc5988"),i=e("../util/find"),t({init:function(e){return e.target=e.target||"",e},response:function(e,t,o){function u(e,t){t.forEach(function(t){Object.defineProperty(e,t.rel+"Link",{enumerable:!1,configurable:!0,value:t}),Object.defineProperty(e,t.rel,{enumerable:!1,configurable:!0,get:function(){var n=c({path:t.href});return Object.defineProperty(e,t.rel,{enumerable:!1,configurable:!0,value:n}),n}})}),Object.defineProperty(e,"clientFor",{enumerable:!1,value:function(t,r){return n(r||c,{prefix:e[t+"Link"].href})}})}function a(e){var t=[];return[].concat(e).forEach(function(e){try{t=t.concat(r.parse(e))}catch(n){}}),t}var c;return c=t.client||e.request&&e.request.originator||o.client,e.headers&&e.headers.Link&&(e.links=e.links||{},u(e.links,a(e.headers.Link))),i.findProperties(e.entity,"links",function(e,n){var r;Array.isArray(n.links)&&(""===t.target?r=n:(r={},Object.defineProperty(n,t.target,{enumerable:!1,value:r})),u(r,n.links))}),e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":12,"../parsers/rfc5988":44,"../util/find":45,"./pathPrefix":17}],16:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r,i,o;return t=e("../interceptor"),n=e("../mime"),r=e("../mime/registry"),o=e("when"),i={read:function(e){return e},write:function(e){return e}},t({init:function(e){return e.registry=e.registry||r,e},request:function(e,t){var r,u;return u=e.headers||(e.headers={}),r=n.parse(u["Content-Type"]=u["Content-Type"]||t.mime||"text/plain"),u.Accept=u.Accept||t.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in e?t.registry.lookup(r).otherwise(function(){if(t.permissive)return i;throw"mime-unknown"}).then(function(n){var i=t.client||e.originator;return o.attempt(n.write,e.entity,{client:i,request:e,mime:r,registry:t.registry}).otherwise(function(){throw"mime-serialization"}).then(function(t){return e.entity=t,e})}):e},response:function(e,t){if(!(e.headers&&e.headers["Content-Type"]&&e.entity))return e;var r=n.parse(e.headers["Content-Type"]);return t.registry.lookup(r).otherwise(function(){return i}).then(function(n){var i=t.client||e.request&&e.request.originator;return o.attempt(n.read,e.entity,{client:i,response:e,mime:r,registry:t.registry}).otherwise(function(t){throw e.error="mime-deserialization",e.cause=t,e}).then(function(t){return e.entity=t,e})})}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":12,"../mime":19,"../mime/registry":20,when:43}],17:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t){return 0===e.indexOf(t)}function n(e,t){return e.lastIndexOf(t)+t.length===e.length}var r,i;return r=e("../interceptor"),i=e("../UrlBuilder"),r({request:function(e,r){var o;return r.prefix&&!new i(e.path).isFullyQualified()&&(o=r.prefix,e.path&&(n(o,"/")||t(e.path,"/")||(o+="/"),o+=e.path),e.path=o),e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../UrlBuilder":7,"../interceptor":12}],18:[function(e,t){!function(e){"use strict";e(function(e){var t,n,r;return t=e("../interceptor"),n=e("../util/uriTemplate"),r=e("../util/mixin"),t({init:function(e){return e.params=e.params||{},e.template=e.template||"",e},request:function(e,t){var i,o;return i=e.path||t.template,o=r({},e.params,t.params),e.path=n.expand(i,o),delete e.params,e}})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../interceptor":12,"../util/mixin":47,"../util/uriTemplate":51}],19:[function(e,t){!function(e){"use strict";var t;e(function(){function e(e){var n,r;return n=e.split(";"),r=n[0].trim().split("+"),{raw:e,type:r[0],suffix:r[1]?"+"+r[1]:"",params:n.slice(1).reduce(function(e,n){return n=n.split("="),e[n[0].trim()]=n[1]?n[1].trim():t,e},{})}}return{parse:e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],20:[function(e,t){!function(e){"use strict";e(function(e){function t(e){this.lookup=function(t){var i;return i="string"==typeof t?n.parse(t):t,e[i.raw]?e[i.raw]:e[i.type+i.suffix]?e[i.type+i.suffix]:e[i.type]?e[i.type]:e[i.suffix]?e[i.suffix]:r.reject(new Error('Unable to locate converter for mime "'+i.raw+'"'))},this.delegate=function(e){return{read:function(){var t=arguments;return this.lookup(e).then(function(e){return e.read.apply(this,t)}.bind(this))}.bind(this),write:function(){var t=arguments;return this.lookup(e).then(function(e){return e.write.apply(this,t)}.bind(this))}.bind(this)}},this.register=function(t,n){return e[t]=r(n),e[t]},this.child=function(){return new t(Object.create(e))}}var n,r,i;return n=e("../mime"),r=e("when"),i=new t({}),i.register("application/hal",e("./type/application/hal")),i.register("application/json",e("./type/application/json")),i.register("application/x-www-form-urlencoded",e("./type/application/x-www-form-urlencoded")),i.register("multipart/form-data",e("./type/multipart/form-data")),i.register("text/plain",e("./type/text/plain")),i.register("+json",i.delegate("application/json")),i})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../mime":19,"./type/application/hal":21,"./type/application/json":22,"./type/application/x-www-form-urlencoded":23,"./type/multipart/form-data":24,"./type/text/plain":25,when:43}],21:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writeable:!0})}var n,r,i,o,u,a;return n=e("../../../interceptor/pathPrefix"),r=e("../../../interceptor/template"),i=e("../../../util/find"),o=e("../../../util/lazyPromise"),u=e("../../../util/responsePromise"),a=e("when"),{read:function(e,c){function s(e,t){(t&&f&&f.warn||f.log)&&(f.warn||f.log).call(f,"Relationship '"+e+"' is deprecated, see "+t)}var l,f;return c=c||{},l=c.client,f=c.console||f,c.registry.lookup(c.mime.suffix).then(function(f){return a(f.read(e,c)).then(function(e){return i.findProperties(e,"_embedded",function(e,n,r){Object.keys(e).forEach(function(r){if(!(r in n)){var i=u({entity:e[r]});t(n,r,i)}}),t(n,r,e)}),i.findProperties(e,"_links",function(e,i,a){Object.keys(e).forEach(function(n){var a=e[n];n in i||t(i,n,u.make(o(function(){return a.deprecation&&s(n,a.deprecation),a.templated===!0?r(l)({path:a.href}):l({path:a.href})})))}),t(i,a,e),t(i,"clientFor",function(t,i){var o=e[t];if(!o)throw new Error("Unknown relationship: "+t);return o.deprecation&&s(t,o.deprecation),o.templated===!0?r(i||l,{template:o.href}):n(i||l,{prefix:o.href})}),t(i,"requestFor",function(e,t,n){var r=this.clientFor(e,n);return r(t)})}),e})})},write:function(e,t){return t.registry.lookup(t.mime.suffix).then(function(n){return n.write(e,t)})}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../../../interceptor/pathPrefix":17,"../../../interceptor/template":18,"../../../util/find":45,"../../../util/lazyPromise":46,"../../../util/responsePromise":49,when:43}],22:[function(e,t){!function(e){"use strict";e(function(){function e(t,n){return{read:function(e){return JSON.parse(e,t)},write:function(e){return JSON.stringify(e,n)},extend:e}}return e()})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],23:[function(e,t){!function(e){"use strict";e(function(){function e(e){return e=encodeURIComponent(e),e.replace(r,"+")}function t(e){return e=e.replace(i," "),decodeURIComponent(e)}function n(t,r,i){return Array.isArray(i)?i.forEach(function(e){t=n(t,r,e)}):(t.length>0&&(t+="&"),t+=e(r),void 0!==i&&null!==i&&(t+="="+e(i))),t}var r,i;return r=/%20/g,i=/\+/g,{read:function(e){var n={};return e.split("&").forEach(function(e){var r,i,o;r=e.split("="),i=t(r[0]),o=2===r.length?t(r[1]):null,i in n?(Array.isArray(n[i])||(n[i]=[n[i]]),n[i].push(o)):n[i]=o}),n},write:function(e){var t="";return Object.keys(e).forEach(function(r){t=n(t,r,e[r])}),t}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],24:[function(e,t){!function(e){"use strict";e(function(){function e(e){return e&&1===e.nodeType&&"FORM"===e.tagName}function t(e){var t,n=new FormData;for(var r in e)e.hasOwnProperty(r)&&(t=e[r],t instanceof File?n.append(r,t,t.name):t instanceof Blob?n.append(r,t):n.append(r,String(t)));return n}return{write:function(n){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(n instanceof FormData)return n;if(e(n))return new FormData(n);if("object"==typeof n&&null!==n)return t(n);throw new Error("Unable to create FormData from object "+n)}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],25:[function(e,t){!function(e){"use strict";e(function(){return{read:function(e){return e},write:function(e){return e.toString()}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],26:[function(e,t){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":27,"./env":39,"./makePromise":41}],27:[function(e,t){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],28:[function(e,t){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],29:[function(e,t){!function(e){"use strict";e(function(){function e(e,n){function r(t,r,o){var u=e._defer(),a=o.length,c=new Array(a);return i({f:t,thisArg:r,args:o,params:c,i:a-1,call:n},u._handler),u}function i(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);var i=e._handler(t.args[t.i]);i.fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,i(e,n)}return arguments.length<2&&(n=t),r}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(i){r.reject(i)}}return e.tryCatchResolve=t,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],30:[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state"),n=e("../apply");return function(e){function r(t){function n(e){l=null,this.resolve(e)}function r(e){this.resolved||(l.push(e),0===--s&&this.reject(l))}for(var i,o,u=e._defer(),a=u._handler,c=t.length>>>0,s=c,l=[],f=0;c>f;++f)if(o=t[f],void 0!==o||f in t){if(i=e._handler(o),i.state()>0){a.become(i),e._visitRemaining(t,f,i);break}i.visit(a,n,r)}else--s;return 0===s&&a.reject(new RangeError("any(): array must not be empty")),u}function i(t,n){function r(e){this.resolved||(l.push(e),0===--h&&(f=null,this.resolve(l)))}function i(e){this.resolved||(f.push(e),0===--o&&(l=null,this.reject(f)))}var o,u,a,c=e._defer(),s=c._handler,l=[],f=[],d=t.length>>>0,h=0;for(a=0;d>a;++a)u=t[a],(void 0!==u||a in t)&&++h;for(n=Math.max(n,0),o=h-n+1,h=Math.min(n,h),n>h?s.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+h)):0===h&&s.resolve(l),a=0;d>a;++a)u=t[a],(void 0!==u||a in t)&&e._handler(u).visit(s,r,i,s.notify);return c}function o(t,n){return e._traverse(n,t)}function u(t,n){var r=g.call(t);return e._traverse(n,r).then(function(e){return a(r,e)})}function a(t,n){for(var r=n.length,i=new Array(r),o=0,u=0;r>o;++o)n[o]&&(i[u++]=e._handler(t[o]).value);return i.length=u,i}function c(e){return m(e.map(s))}function s(n){var r=e._handler(n);return 0===r.state()?p(n).then(t.fulfilled,t.rejected):(r._unreport(),t.inspect(r))}function l(e,t){return arguments.length>2?v.call(e,d(t),arguments[2]):v.call(e,d(t))}function f(e,t){return arguments.length>2?y.call(e,d(t),arguments[2]):y.call(e,d(t))}function d(e){return function(t,n,r){return h(e,void 0,[t,n,r])}}var h=n(e),p=e.resolve,m=e.all,v=Array.prototype.reduce,y=Array.prototype.reduceRight,g=Array.prototype.slice;return e.any=r,e.some=i,e.settle=c,e.map=o,e.filter=u,e.reduce=l,e.reduceRight=f,e.prototype.spread=function(e){return this.then(m).then(function(t){return e.apply(this,t)})},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../apply":29,"../state":42}],31:[function(e,t){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function i(e){return e}return function(n){function o(e,n){return function(r){return t(r,n)?e.call(this,r):s(r)}}function u(e,t,n,i){var o=e.call(t);return r(o)?a(o,n,i):n(i)}function a(e,t,n){return c(e).then(function(){return t(n)})}var c=n.resolve,s=n.reject,l=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?l.call(this,t):"function"!=typeof t?this.ensure(e):l.call(this,o(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return u(e,this,i,t)},function(t){return u(e,this,s,t)})},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],32:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],33:[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../state":42}],34:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function u(o,u){return r(i(o)).then(function(){return n(e,t,i,u)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(u)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],35:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],36:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,r,i){return n.setTimer(function(){e(r,i,t)},t)}var n=e("../env"),r=e("../TimeoutError");return function(e){function i(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function u(e,t,n){var i="undefined"==typeof e?new r("timed out after "+n+"ms"):e;t.reject(i)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},e.prototype.timeout=function(e,r){var i=this._beget(),o=i._handler,a=t(u,e,r,i._handler);return this._handler.visit(o,function(e){n.clearTimer(a),this.resolve(e)},function(e){n.clearTimer(a),this.reject(e)},o.notify),i},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../TimeoutError":28,"../env":39}],37:[function(e,t){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var r=e("../env").setTimer,i=e("../format");return function(e){function o(e){e.handled||(h.push(e),l("Potentially unhandled rejection ["+e.id+"] "+i.formatError(e.value)))}function u(e){var t=h.indexOf(e);t>=0&&(h.splice(t,1),f("Handled previous rejection ["+e.id+"] "+i.formatObject(e.value)))}function a(e,t){d.push(e,t),null===p&&(p=r(c,0))}function c(){for(p=null;d.length>0;)d.shift()(d.shift())}var s,l=n,f=n;"undefined"!=typeof console&&(s=console,l="undefined"!=typeof s.error?function(e){s.error(e)}:function(e){s.log(e)},f="undefined"!=typeof s.info?function(e){s.info(e)}:function(e){s.log(e)}),e.onPotentiallyUnhandledRejection=function(e){a(o,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){a(u,e)},e.onFatalRejection=function(e){a(t,e.value)};var d=[],h=[],p=null;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../env":39,"../format":40}],38:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],39:[function(e,t){(function(n){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var o,u="undefined"!=typeof setTimeout&&setTimeout,a=function(e,t){return setTimeout(e,t)},c=function(e){return clearTimeout(e)},s=function(e){return u(e,0)};if(t())s=function(e){return n.nextTick(e)};else if(o=r())s=i(o);else if(!u){var l=e,f=l("vertx");a=function(e,t){return f.setTimer(t,e)},c=f.cancelTimer,s=f.runOnLoop||f.runOnContext}return{setTimer:a,clearTimer:c,asap:s}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:6}],40:[function(e,t){!function(e){"use strict";e(function(){function e(e){var n="object"==typeof e&&null!==e&&e.stack?e.stack:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],41:[function(e,t){(function(e){!function(t){"use strict";t(function(){return function(t){function n(e,t){this._handler=e===b?t:r(e)}function r(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new E;try{e(t,n,r)}catch(o){n(o)}return i}function i(e){return L(e)?e:new n(b,new _(y(e)))}function o(e){return new n(b,new _(new C(e)))}function u(){return et}function a(){return new n(b,new E)}function c(e,t){var n=new E(e.receiver,e.join().context);return new t(b,n)}function s(e){return f(G,null,e)}function l(e,t){return f(q,e,t)}function f(e,t,r){function i(n,i,u){u.resolved||d(r,o,n,e(t,i,n),u)}function o(e,t,n){l[e]=t,0===--s&&n.become(new k(l))}for(var u,a="function"==typeof t?i:o,c=new E,s=r.length>>>0,l=new Array(s),f=0;f<r.length&&!c.resolved;++f)u=r[f],void 0!==u||f in r?d(r,a,f,u,c):--s;return 0===s&&c.become(new k(l)),new n(b,c)}function d(e,t,n,r,i){if(F(r)){var o=g(r),u=o.state();0===u?o.fold(t,n,void 0,i):u>0?t(n,o.value,i):(i.become(o),h(e,n+1,o))}else t(n,r,i)}function h(e,t,n){for(var r=t;r<e.length;++r)p(y(e[r]),n)}function p(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function m(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?u():1===e.length?i(e[0]):v(e)}function v(e){var t,r,i,o=new E;for(t=0;t<e.length;++t)if(r=e[t],void 0!==r||t in e){if(i=y(r),0!==i.state()){o.become(i),h(e,t+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(b,o)}function y(e){return L(e)?e._handler.join():F(e)?w(e):new k(e)}function g(e){return L(e)?e._handler.join():w(e)}function w(e){try{var t=e.then;return"function"==typeof t?new A(t,e):new k(e)}catch(n){return new C(n)}}function b(){}function x(){}function E(e,t){n.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function _(e){this.handler=e}function A(e,t){E.call(this),J.enqueue(new T(e,t,this))}function k(e){n.createContext(this),this.value=e}function C(e){n.createContext(this),this.id=++X,this.value=e,this.handled=!1,this.reported=!1,this._report()}function j(e,t){this.rejection=e,this.context=t}function P(e){this.rejection=e}function S(){return new C(new TypeError("Promise cycle"))}function N(e,t){this.continuation=e,this.handler=t}function O(e,t){this.handler=t,this.value=e}function T(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function R(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function I(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=K,this.receiver=this}function L(e){return e instanceof n}function F(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function D(e,t,r,i){return"function"!=typeof e?i.become(t):(n.enterContext(t),z(e,t.value,r,i),void n.exitContext())}function M(e,t,r,i,o){return"function"!=typeof e?o.become(r):(n.enterContext(r),B(e,t,r.value,i,o),void n.exitContext())}function U(e,t,r,i,o){return"function"!=typeof e?o.notify(t):(n.enterContext(r),H(e,t,i,o),void n.exitContext())}function q(e,t,n){try{return e(t,n)}catch(r){return o(r)}}function z(e,t,n,r){try{r.become(y(e.call(n,t)))}catch(i){r.become(new C(i))}}function B(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new C(o))}}function H(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function Q(e,t){t.prototype=$(e.prototype),t.prototype.constructor=t}function G(e,t){return t}function W(){}function V(){return"undefined"!=typeof e&&null!==e&&"function"==typeof e.emit?function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(e,r){var i=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}:e}(W,self,CustomEvent):W}var J=t.scheduler,Y=V(),$=Object.create||function(e){function t(){}return t.prototype=e,new t};n.resolve=i,n.reject=o,n.never=u,n._defer=a,n._handler=y,n.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&0>i)return new this.constructor(b,r);var o=this._beget(),u=o._handler;return r.chain(u,r.receiver,e,t,n),o},n.prototype["catch"]=function(e){return this.then(void 0,e)},n.prototype._beget=function(){return c(this._handler,this.constructor)},n.all=s,n.race=m,n._traverse=l,n._visitRemaining=h,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=W,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},b.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},b.prototype.visit=function(e,t,n,r){this.chain(K,e,t,n,r)},b.prototype.fold=function(e,t,n,r){this.when(new I(e,t,n,r))},Q(b,x),x.prototype.become=function(e){e.fail()};var K=new x;Q(b,E),E.prototype._state=0,E.prototype.resolve=function(e){this.become(y(e))},E.prototype.reject=function(e){this.resolved||this.become(new C(e))},E.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=S();return e},E.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},E.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&J.enqueue(this),void 0!==this.context&&e._report(this.context))},E.prototype.when=function(e){this.resolved?J.enqueue(new N(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},E.prototype.notify=function(e){this.resolved||J.enqueue(new O(e,this))},E.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},E.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},E.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},Q(b,_),_.prototype.when=function(e){J.enqueue(new N(e,this))},_.prototype._report=function(e){this.join()._report(e)},_.prototype._unreport=function(){this.join()._unreport()},Q(E,A),Q(b,k),k.prototype._state=1,k.prototype.fold=function(e,t,n,r){M(e,t,this,n,r)},k.prototype.when=function(e){D(e.fulfilled,this,e.receiver,e.resolver)};var X=0;Q(b,C),C.prototype._state=-1,C.prototype.fold=function(e,t,n,r){r.become(this)},C.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),D(e.rejected,this,e.receiver,e.resolver)},C.prototype._report=function(e){J.afterQueue(new j(this,e))},C.prototype._unreport=function(){this.handled||(this.handled=!0,J.afterQueue(new P(this)))},C.prototype.fail=function(e){this.reported=!0,Y("unhandledRejection",this),n.onFatalRejection(this,void 0===e?this.context:e)},j.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,Y("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},P.prototype.run=function(){this.rejection.reported&&(Y("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=W;var Z=new b,et=new n(b,Z);return N.prototype.run=function(){this.handler.join().when(this.continuation)},O.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],U(t.progress,this.value,this.handler,t.receiver,t.resolver)},T.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;R(this._then,this.thenable,e,t,n)},I.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},I.prototype.rejected=function(e){this.to.reject(e)},I.prototype.progress=function(e){this.to.notify(e)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})}).call(this,e("_process"))},{_process:6}],42:[function(e,t){!function(e){"use strict";e(function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}function r(r){var i=r.state();return 0===i?e():i>0?n(r.value):t(r.value)}return{pending:e,fulfilled:n,rejected:t,inspect:r}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],43:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,n,r){var i=_.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function n(e){return new _(e)}function r(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);n>t;++t)r[t]=arguments[t];return A(e,this,r)}}function i(e){for(var t=0,n=arguments.length-1,r=new Array(n);n>t;++t)r[t]=arguments[t+1];return A(e,this,r)}function o(){return new u}function u(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=_._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function a(e){return e&&"function"==typeof e.then}function c(){return _.all(arguments)}function s(e){return t(e,_.all)}function l(e){return t(e,_.settle)}function f(e,n){return t(e,function(e){return _.map(e,n)})}function d(e,n){return t(e,function(e){return _.filter(e,n)})}var h=e("./lib/decorators/timed"),p=e("./lib/decorators/array"),m=e("./lib/decorators/flow"),v=e("./lib/decorators/fold"),y=e("./lib/decorators/inspect"),g=e("./lib/decorators/iterate"),w=e("./lib/decorators/progress"),b=e("./lib/decorators/with"),x=e("./lib/decorators/unhandledRejection"),E=e("./lib/TimeoutError"),_=[p,m,v,g,w,y,b,h,x].reduce(function(e,t){return t(e)
},e("./lib/Promise")),A=e("./lib/apply")(_);return t.promise=n,t.resolve=_.resolve,t.reject=_.reject,t.lift=r,t["try"]=i,t.attempt=i,t.iterate=_.iterate,t.unfold=_.unfold,t.join=c,t.all=s,t.settle=l,t.any=r(_.any),t.some=r(_.some),t.race=r(_.race),t.map=f,t.filter=d,t.reduce=r(_.reduce),t.reduceRight=r(_.reduceRight),t.isPromiseLike=a,t.Promise=_,t.defer=o,t.TimeoutError=E,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./lib/Promise":26,"./lib/TimeoutError":28,"./lib/apply":29,"./lib/decorators/array":30,"./lib/decorators/flow":31,"./lib/decorators/fold":32,"./lib/decorators/inspect":33,"./lib/decorators/iterate":34,"./lib/decorators/progress":35,"./lib/decorators/timed":36,"./lib/decorators/unhandledRejection":37,"./lib/decorators/with":38}],44:[function(e,t){!function(e){e(function(e,t,n){n.exports=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function r(e){N>P||(P>N&&(N=P,O=[]),O.push(e))}function i(){var e,n,i,u,a,c,s,l,f;for(c=P,s=P,e=[],l=P,f=P,n=o(),null!==n?(i=h(),null!==i?(44===t.charCodeAt(P)?(u=",",P++):(u=null,0===S&&r('","')),null!==u?(a=h(),null!==a?n=[n,i,u,a]:(n=null,P=f)):(n=null,P=f)):(n=null,P=f)):(n=null,P=f),null!==n&&(n=function(e,t){return t}(l,n[0])),null===n&&(P=l);null!==n;)e.push(n),l=P,f=P,n=o(),null!==n?(i=h(),null!==i?(44===t.charCodeAt(P)?(u=",",P++):(u=null,0===S&&r('","')),null!==u?(a=h(),null!==a?n=[n,i,u,a]:(n=null,P=f)):(n=null,P=f)):(n=null,P=f)):(n=null,P=f),null!==n&&(n=function(e,t){return t}(l,n[0])),null===n&&(P=l);return null!==e?(n=o(),null!==n?e=[e,n]:(e=null,P=s)):(e=null,P=s),null!==e&&(e=function(e,t,n){return t.concat([n])}(c,e[0],e[1])),null===e&&(P=c),e}function o(){var e,n,i,o,c,s,l,f;if(l=P,f=P,60===t.charCodeAt(P)?(e="<",P++):(e=null,0===S&&r('"<"')),null!==e)if(n=a(),null!==n)if(62===t.charCodeAt(P)?(i=">",P++):(i=null,0===S&&r('">"')),null!==i)if(o=h(),null!==o){for(c=[],s=u();null!==s;)c.push(s),s=u();null!==c?e=[e,n,i,o,c]:(e=null,P=f)}else e=null,P=f;else e=null,P=f;else e=null,P=f;else e=null,P=f;return null!==e&&(e=function(e,t,n){var r={};return n.forEach(function(e){r[e[0]]=e[1]}),r.href=t,r}(l,e[1],e[4])),null===e&&(P=l),e}function u(){var e,n,i,o,u,a;return u=P,a=P,59===t.charCodeAt(P)?(e=";",P++):(e=null,0===S&&r('";"')),null!==e?(n=h(),null!==n?(i=c(),null!==i?(o=h(),null!==o?e=[e,n,i,o]:(e=null,P=a)):(e=null,P=a)):(e=null,P=a)):(e=null,P=a),null!==e&&(e=function(e,t){return t}(u,e[2])),null===e&&(P=u),e}function a(){var e,n,i;if(i=P,/^[^>]/.test(t.charAt(P))?(n=t.charAt(P),P++):(n=null,0===S&&r("[^>]")),null!==n)for(e=[];null!==n;)e.push(n),/^[^>]/.test(t.charAt(P))?(n=t.charAt(P),P++):(n=null,0===S&&r("[^>]"));else e=null;return null!==e&&(e=function(e,t){return t.join("")}(i,e)),null===e&&(P=i),e}function c(){var e,t,n,r;return n=P,r=P,e=s(),null!==e?(t=l(),t=null!==t?t:"",null!==t?e=[e,t]:(e=null,P=r)):(e=null,P=r),null!==e&&(e=function(e,t,n){return[t,n]}(n,e[0],e[1])),null===e&&(P=n),e}function s(){var e,n,i;if(i=P,/^[a-z]/.test(t.charAt(P))?(n=t.charAt(P),P++):(n=null,0===S&&r("[a-z]")),null!==n)for(e=[];null!==n;)e.push(n),/^[a-z]/.test(t.charAt(P))?(n=t.charAt(P),P++):(n=null,0===S&&r("[a-z]"));else e=null;return null!==e&&(e=function(e,t){return t.join("")}(i,e)),null===e&&(P=i),e}function l(){var e,n,i,o;return i=P,o=P,61===t.charCodeAt(P)?(e="=",P++):(e=null,0===S&&r('"="')),null!==e?(n=f(),null===n&&(n=p()),null!==n?e=[e,n]:(e=null,P=o)):(e=null,P=o),null!==e&&(e=function(e,t){return t}(i,e[1])),null===e&&(P=i),e}function f(){var e,t,n;if(n=P,t=d(),null!==t)for(e=[];null!==t;)e.push(t),t=d();else e=null;return null!==e&&(e=function(e,t){return t.join("")}(n,e)),null===e&&(P=n),e}function d(){var e;return 33===t.charCodeAt(P)?(e="!",P++):(e=null,0===S&&r('"!"')),null===e&&(35===t.charCodeAt(P)?(e="#",P++):(e=null,0===S&&r('"#"')),null===e&&(36===t.charCodeAt(P)?(e="$",P++):(e=null,0===S&&r('"$"')),null===e&&(37===t.charCodeAt(P)?(e="%",P++):(e=null,0===S&&r('"%"')),null===e&&(38===t.charCodeAt(P)?(e="&",P++):(e=null,0===S&&r('"&"')),null===e&&(39===t.charCodeAt(P)?(e="'",P++):(e=null,0===S&&r('"\'"')),null===e&&(40===t.charCodeAt(P)?(e="(",P++):(e=null,0===S&&r('"("')),null===e&&(41===t.charCodeAt(P)?(e=")",P++):(e=null,0===S&&r('")"')),null===e&&(42===t.charCodeAt(P)?(e="*",P++):(e=null,0===S&&r('"*"')),null===e&&(43===t.charCodeAt(P)?(e="+",P++):(e=null,0===S&&r('"+"')),null===e&&(45===t.charCodeAt(P)?(e="-",P++):(e=null,0===S&&r('"-"')),null===e&&(46===t.charCodeAt(P)?(e=".",P++):(e=null,0===S&&r('"."')),null===e&&(124===t.charCodeAt(P)?(e="|",P++):(e=null,0===S&&r('"|"')),null===e&&(e=b(),null===e&&(58===t.charCodeAt(P)?(e=":",P++):(e=null,0===S&&r('":"')),null===e&&(60===t.charCodeAt(P)?(e="<",P++):(e=null,0===S&&r('"<"')),null===e&&(61===t.charCodeAt(P)?(e="=",P++):(e=null,0===S&&r('"="')),null===e&&(62===t.charCodeAt(P)?(e=">",P++):(e=null,0===S&&r('">"')),null===e&&(63===t.charCodeAt(P)?(e="?",P++):(e=null,0===S&&r('"?"')),null===e&&(64===t.charCodeAt(P)?(e="@",P++):(e=null,0===S&&r('"@"')),null===e&&(e=w(),null===e&&(91===t.charCodeAt(P)?(e="[",P++):(e=null,0===S&&r('"["')),null===e&&(93===t.charCodeAt(P)?(e="]",P++):(e=null,0===S&&r('"]"')),null===e&&(94===t.charCodeAt(P)?(e="^",P++):(e=null,0===S&&r('"^"')),null===e&&(95===t.charCodeAt(P)?(e="_",P++):(e=null,0===S&&r('"_"')),null===e&&(96===t.charCodeAt(P)?(e="`",P++):(e=null,0===S&&r('"`"')),null===e&&(123===t.charCodeAt(P)?(e="{",P++):(e=null,0===S&&r('"{"')),null===e&&(/^[\/\/]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[\\/\\/]")),null===e&&(125===t.charCodeAt(P)?(e="}",P++):(e=null,0===S&&r('"}"')),null===e&&(126===t.charCodeAt(P)?(e="~",P++):(e=null,0===S&&r('"~"'))))))))))))))))))))))))))))))),e}function h(){var e,t;for(e=[],t=x();null!==t;)e.push(t),t=x();return e}function p(){var e,t,n,r,i;return r=P,i=P,e=E(),null!==e?(t=m(),null!==t?(n=E(),null!==n?e=[e,t,n]:(e=null,P=i)):(e=null,P=i)):(e=null,P=i),null!==e&&(e=function(e,t){return t}(r,e[1])),null===e&&(P=r),e}function m(){var e,t,n;for(n=P,e=[],t=_(),null===t&&(t=A());null!==t;)e.push(t),t=_(),null===t&&(t=A());return null!==e&&(e=function(e,t){return t.join("")}(n,e)),null===e&&(P=n),e}function v(){var e;return/^[\0-]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[\\0-]")),e}function y(){var e;return/^[A-Z]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[A-Z]")),e}function g(){var e;return/^[a-z]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[a-z]")),e}function w(){var e;return e=y(),null===e&&(e=g()),e}function b(){var e;return/^[0-9]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[0-9]")),e}function x(){var e;return/^[ ]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[ ]")),e}function E(){var e;return/^["]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r('["]')),e}function _(){var e;return/^[^"]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r('[^"]')),e}function A(){var e,n,i;return i=P,/^[\\]/.test(t.charAt(P))?(e=t.charAt(P),P++):(e=null,0===S&&r("[\\\\]")),null!==e?(n=v(),null!==n?e=[e,n]:(e=null,P=i)):(e=null,P=i),e}function k(e){e.sort();for(var t=null,n=[],r=0;r<e.length;r++)e[r]!==t&&(n.push(e[r]),t=e[r]);return n}function C(){for(var e=1,n=1,r=!1,i=0;i<Math.max(P,N);i++){var o=t.charAt(i);"\n"===o?(r||e++,n=1,r=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}var j={start:i,LinkValue:o,LinkParams:u,URIReference:a,LinkParam:c,LinkParamName:s,LinkParamValue:l,PToken:f,PTokenChar:d,OptionalSP:h,QuotedString:p,QuotedStringInternal:m,Char:v,UpAlpha:y,LoAlpha:g,Alpha:w,Digit:b,SP:x,DQ:E,QDText:_,QuotedPair:A};if(void 0!==n){if(void 0===j[n])throw new Error("Invalid rule name: "+e(n)+".")}else n="start";var P=0,S=0,N=0,O=[],T=j[n]();if(null===T||P!==t.length){var R=Math.max(P,N),I=R<t.length?t.charAt(R):null,L=C();throw new this.SyntaxError(k(O),I,R,L.line,L.column)}return T},toSource:function(){return this._source}};return t.SyntaxError=function(t,n,r,i,o){function u(t,n){var r,i;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return i=n?e(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=t,this.found=n,this.message=u(t,n),this.offset=r,this.line=i,this.column=o},t.SyntaxError.prototype=Error.prototype,t}()})}("function"==typeof define&&define.amd?define:function(n){n(e,t.exports,t)})},{}],45:[function(e,t){!function(e){"use strict";e(function(){return{findProperties:function e(t,n,r){"object"==typeof t&&null!==t&&(n in t&&r(t[n],t,n),Object.keys(t).forEach(function(i){e(t[i],n,r)}))}}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],46:[function(e,t){!function(e){"use strict";e(function(e){function t(e){var t,r,i,o,u;return t=n.defer(),r=!1,i=t.resolver,o=t.promise,u=o.then,o.then=function(){return r||(r=!0,n.attempt(e).then(i.resolve,i.reject)),u.apply(o,arguments)},o}var n;return n=e("when"),t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{when:43}],47:[function(e,t){!function(e){"use strict";e(function(){function e(e){var n,r,i,o;for(e||(e={}),n=1,r=arguments.length;r>n;n+=1){i=arguments[n];for(o in i)o in e&&(e[o]===i[o]||o in t&&t[o]===i[o])||(e[o]=i[o])}return e}var t={};return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],48:[function(e,t){!function(e){"use strict";e(function(){function e(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],49:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t){return e.then(function(e){return e&&e[t]},function(e){return s.reject(e&&e[t])})}function n(){return t(this,"entity")}function r(){return t(t(this,"status"),"code")}function i(){return t(this,"headers")}function o(e){return e=l(e),t(this.headers(),e)}function u(e){return e=[].concat(e),a(s.reduce(e,function(e,t){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var n=e.entity.clientFor(t.rel);return n({params:t.params})},this))}function a(e){return e.status=r,e.headers=i,e.header=o,e.entity=n,e.follow=u,e}function c(){return a(s.apply(s,arguments))}var s=e("when"),l=e("./normalizeHeaderName");return c.make=a,c.reject=function(e){return a(s.reject(e))},c.promise=function(e){return a(s.promise(e))},c})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./normalizeHeaderName":48,when:43}],50:[function(e,t){!function(e){"use strict";e(function(){function e(e,t){if("string"!=typeof e)throw new Error("String required for URL encoding");return e.split("").map(function(e){if(t.hasOwnProperty(e))return e;var n=e.charCodeAt(0);return 127>=n?"%"+n.toString(16).toUpperCase():encodeURIComponent(e).toUpperCase()}).join("")}function t(t){return t=t||r.unreserved,function(n){return e(n,t)}}function n(e){return decodeURIComponent(e)}var r;return r=function(){var e={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return e.genDelims=":/?#[]@",e.subDelims="!$&'()*+,;=",e.reserved=e.genDelims+e.subDelims,e.unreserved=e.alpha+e.digit+"-._~",e.url=e.reserved+e.unreserved,e.scheme=e.alpha+e.digit+"+-.",e.userinfo=e.unreserved+e.subDelims+":",e.host=e.unreserved+e.subDelims,e.port=e.digit,e.pchar=e.unreserved+e.subDelims+":@",e.segment=e.pchar,e.path=e.segment+"/",e.query=e.pchar+"/?",e.fragment=e.pchar+"/?",Object.keys(e).reduce(function(t,n){return t[n]=e[n].split("").reduce(function(e,t){return e[t]=!0,e},{}),t},{})}(),{decode:n,encode:t(),encodeURL:t(r.url),encodeScheme:t(r.scheme),encodeUserInfo:t(r.userinfo),encodeHost:t(r.host),encodePort:t(r.port),encodePathSegment:t(r.segment),encodePath:t(r.path),encodeQuery:t(r.query),encodeFragment:t(r.fragment)}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],51:[function(e,t){!function(e){"use strict";var t;e(function(e){function n(e,n,r){return n.split(",").reduce(function(n,i){var u,c;if(u={},"*"===i.slice(-1)&&(i=i.slice(0,-1),u.explode=!0),a.test(i)){var s=a.exec(i);i=s[1],u.maxLength=parseInt(s[2])}return i=o.decode(i),c=r[i],c===t||null===c?n:("string"==typeof c?(u.maxLength&&(c=c.slice(0,u.maxLength)),n+=n.length?e.separator:e.first,e.named&&(n+=e.encoder(i),n+=c.length?"=":e.empty),n+=e.encoder(c)):n+=Array.isArray(c)?c.reduce(function(t,n){return t.length?(t+=u.explode?e.separator:",",e.named&&u.explode&&(t+=e.encoder(i),t+=n.length?"=":e.empty)):(t+=e.first,e.named&&(t+=e.encoder(i),t+=n.length?"=":e.empty)),t+=e.encoder(n)},""):Object.keys(c).reduce(function(t,n){return t.length?t+=u.explode?e.separator:",":(t+=e.first,e.named&&!u.explode&&(t+=e.encoder(i),t+=c[n].length?"=":e.empty)),t+=e.encoder(n),t+=u.explode?"=":",",t+=e.encoder(c[n])},""),n)},"")}function r(e,t){var r;if(r=u[e.slice(0,1)],r?e=e.slice(1):r=u[""],r.reserved)throw new Error("Reserved expression operations are not supported");return n(r,e,t)}function i(e,t){var n,i,o;for(o="",i=0;;){if(n=e.indexOf("{",i),-1===n){o+=e.slice(i);break}o+=e.slice(i,n),i=e.indexOf("}",n)+1,o+=r(e.slice(n+1,i-1),t)}return o}var o,u,a;return o=e("./uriEncoder"),a=/^([^:]*):([0-9]+)$/,u={"":{first:"",separator:",",named:!1,empty:"",encoder:o.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:o.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:o.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:o.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:o.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:o.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:o.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:o.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},{expand:i}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./uriEncoder":50}],52:[function(e,t){t.exports=[{added_by:"niko",title:"Reframing Accessibility for the Web",url:"http://alistapart.com/article/reframing-accessibility-for-the-web"},{added_by:"niko",title:"Roadmap for 2015",url:"http://www.openwebrtc.io/blog/2015/1/15/roadmap-for-2015"},{added_by:"niko",title:"W3C Updates General Document License",url:"http://www.w3.org/blog/2015/02/w3c-updates-general-document-license/"},{added_by:"niko",title:"15 Best Node.js Tools for 2015",url:"http://codegeekz.com/15-best-nodejs-tools-for-2015/"},{added_by:"niko",title:"AngularJS vs. React",url:"http://blog.backand.com/angularjs-vs-react/"},{added_by:"niko",title:"You Don't Like Google's Go Because You Are Small",url:"http://tmikov.blogspot.com/2015/02/you-dont-like-googles-go-because-you.html"},{added_by:"niko",title:"How to set up a modern web app and stay sane",url:"http://khmylov.com/blog/2015/02/build-web-app-and-survive/"},{added_by:"niko",title:"The Joel Test Updated For Programmers",url:"http://simpleprogrammer.com/2015/02/16/joel-test-programmers-simple-programmer-test/"},{added_by:"niko",title:"20 Best Free IDEs and Editors for Programmers",url:"http://devzum.com/2015/02/17/20-best-free-ides-and-editors-for-programmers/"},{added_by:"niko",title:"A Monadic Approach to Error Handling in Collection Pipelines",url:"https://michaelfeathers.silvrback.com/a-monadic-approach-to-error-handling-in-collection-pipelines"},{added_by:"niko",title:"How NativeScript Works",url:"http://developer.telerik.com/featured/nativescript-works/"},{added_by:"niko",title:"How to Build an API Service in 30 Minutes with Express.js: JavaScript, HTML5, CSS3 Conference",url:"http://fluentconf.com/javascript-html-2015/public/schedule/detail/39040?cmp=tw-web-confsched-info-fl15_sessions"},{added_by:"niko",title:"Web Designers And Web Developers, These Resources Are For You",url:"http://www.designyourway.net/blog/resources/web-designers-and-web-developers-these-resources-are-for-you/"},{added_by:"niko",title:"Node.js and JavaScript Flow (part 2) - Fibers and Generators",url:"http://blog.vullum.io/nodejs-javascript-flow-fibers-generators/"}]},{}],53:[function(e,t,n){(function(t){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=r(e("./batch")),a=r(e("rest")),c=r(e("rest/interceptor/pathPrefix")),s=r(e("rest/interceptor/mime")),l=r(e("rest/interceptor/errorCode")),f=r(e("rest/interceptor/defaultRequest")),d=r(e("rest/interceptor/hateoas")),h=r(e("rest/interceptor")),p=n.AUTH_TOKEN_KEYNAME="readinglist:auth:token",m=n.MAX_ITEMS_PER_PAGE=t.env.MAX_ITEMS_PER_PAGE||10,v=(n.ArticleConstants=Object.freeze({status:{DEFAULT:0,ARCHIVED:1,DELETED:2}}),n.authInterceptor=h({request:function(e,t){var n=e.headers||(e.headers={}),r=t.authTokenGetter();return r&&(n.Authorization="Bearer "+t.authTokenGetter()),e}})),y=function(){function e(t){var n=void 0===arguments[1]?{}:arguments[1];o(this,e),this.baseUrl=t,this.debug=!!n.debug,this.client=n.client||this.createClient(),this.window=n.window||window,this._authToken=null,this._nextPageUrl=null,this._totalRecords=0}return i(e,null,{totalRecords:{get:function(){return this._totalRecords},configurable:!0},_wrap:{value:function(e){var t=this;return e["catch"](function(e){if(!e.entity||"loaderror"===e.error)throw new Error("Server is unreachable. Are you offline?");throw Object.assign(new Error,e.entity)}).then(function(e){var n=e.headers||{};return n["Next-Page"]&&(t._nextPageUrl=n["Next-Page"]),n["Total-Records"]&&(t._totalRecords=parseInt(n["Total-Records"],10)),t.debug&&console.info("API response",e),e.entity})},writable:!0,configurable:!0},createClient:{value:function(){var e=this;return a.wrap(c,{prefix:this.baseUrl}).wrap(l,{code:400}).wrap(f,{headers:{"Requested-With":"readinglist-client"}}).wrap(s,{mime:"application/json;encoding=UTF-8"}).wrap(d).wrap(v,{authTokenGetter:function(){return e._authToken}})},writable:!0,configurable:!0},hello:{value:function(){return this._wrap(this.client({path:"/"}))},writable:!0,configurable:!0},signinToFxA:{value:function(){var e=this.window.location,t=encodeURIComponent(e.protocol+"//"+e.hostname+":"+e.port+e.pathname+"#auth:");this.window.location=""+this.baseUrl+"/fxa-oauth/login?redirect="+t+"#"},writable:!0,configurable:!0},checkAuth:{value:function(){var e=this.window.sessionStorage.getItem(p);if(e)return this.setAuthToken(e);var t=/^#auth:([a-f0-9]{64})$/.exec(this.window.location.hash);return t?(this.window.location.hash="",this.setAuthToken(t[1])):null},writable:!0,configurable:!0},setAuthToken:{value:function(e){return this._authToken=e,"string"==typeof e?this.window.sessionStorage.setItem(p,e):this.window.sessionStorage.removeItem(p),e},writable:!0,configurable:!0},signout:{value:function(){this.setAuthToken(null)},writable:!0,configurable:!0},createArticle:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"POST",path:"/articles",entity:e}))},writable:!0,configurable:!0},listArticles:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];this._nextPageUrl=null;var t=Object.assign({_sort:"-last_modified",_limit:m},e);return this._wrap(this.client({path:"/articles",params:t})).then(function(e){return e.items})},writable:!0,configurable:!0},hasNext:{value:function(){return!!this._nextPageUrl},writable:!0,configurable:!0},listNext:{value:function(){if(!this.hasNext())return new Promise(function(e,t){t(new Error("No next articles page."))});var e=this._nextPageUrl;return this._nextPageUrl=null,this._wrap(this.client({path:e})).then(function(e){return e.items})},writable:!0,configurable:!0},getArticle:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({path:"/articles/"+e.id}))},writable:!0,configurable:!0},updateArticle:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"PATCH",path:"/articles/"+e.id,entity:e}))},writable:!0,configurable:!0},deleteArticle:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return this._wrap(this.client({method:"DELETE",path:"/articles/"+e.id}))},writable:!0,configurable:!0},createBatch:{value:function(){var e=void 0===arguments[0]?{}:arguments[0];return new u(this,e)},writable:!0,configurable:!0},batch:{value:function(e){return this._wrap(this.client({method:"POST",path:"/batch",entity:e}))},writable:!0,configurable:!0}}),e}();n["default"]=y,Object.defineProperty(n,"__esModule",{value:!0})}).call(this,e("_process"))},{"./batch":54,_process:6,rest:8,"rest/interceptor":12,"rest/interceptor/defaultRequest":13,"rest/interceptor/errorCode":14,"rest/interceptor/hateoas":15,"rest/interceptor/mime":16,"rest/interceptor/pathPrefix":17}],54:[function(e,t){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(t){var n=void 0===arguments[1]?{}:arguments[1];if(i(this,e),"object"!=typeof t)throw new Error("Invalid API instance.");this.api=t,this.defaults=Object.assign({},n),this.requests=[]}return r(e,null,{createArticle:{value:function(){for(var e,t=arguments.length,r=Array(t),i=0;t>i;i++)r[i]=arguments[i];return this.requests=(e=this.requests).concat.apply(e,n(r.map(function(e){return{method:"POST",path:"/v0/articles",body:e}}))),this},writable:!0,configurable:!0},toQuery:{value:function(){return{defaults:this.defaults,requests:this.requests}},writable:!0,configurable:!0},process:{value:function(){return this.api.batch(this.toQuery())},writable:!0,configurable:!0}}),e}();t.exports=o},{}],55:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("react/addons"));t.exports=r.createClass({displayName:"Alert",render:function(){return r.createElement("div",{className:"alert alert-warning"},r.createElement("p",null,r.createElement("strong",null,this.props.title)),r.createElement("div",null,this.props.children))}})},{"react/addons":"react/addons"}],56:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e("6to5/polyfill");var i=n(e("react/addons")),o=n(e("docbrown")),u=e("../flux"),a=u.ArticleActions,c=u.stores,s=n(e("./Alert")),l=n(e("./ArticleForm")),f=n(e("./ArticleList")),d=n(e("./Auth")),h=n(e("./Viewer"));t.exports=i.createClass({displayName:"App",mixins:[o.storeMixin(c.getter("articleStore"))],componentDidMount:function(){a.list()},renderError:function(){return this.state.error?i.createElement(s,null,this.state.error.message):void 0},render:function(){return i.createElement("div",{className:"container-fluid"},i.createElement("h1",null,i.createElement("a",{href:"./"},"Readinglist")),this.renderError(),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-3"},i.createElement(d,null),i.createElement(f,{articles:this.state.articles,filters:this.state.filters,selectedId:this.state.current&&this.state.current.id,hasNext:this.state.hasNext,totalRecords:this.state.totalRecords})),i.createElement("div",{className:"col-md-9"},i.createElement(l,{show:this.state.edit,current:this.state.current}),this.state.current?i.createElement(h,r({contents:this.state.currentContents},this.state.current)):null)))}})},{"../flux":66,"./Alert":55,"./ArticleForm":58,"./ArticleList":59,"./Auth":60,"./Viewer":64,"6to5/polyfill":5,docbrown:"docbrown","react/addons":"react/addons"}],57:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=e("react/addons"),i=n(r),o=e("../flux").ArticleActions,u=r.addons,a=n(e("./Button")),c=i.createClass({displayName:"EditButton",render:function(){return i.createElement(a,{className:"btn-edit",type:"default",size:"xs",title:"Edit",onClick:this.props.onClick,icon:"pencil"})}}),s=i.createClass({displayName:"DeleteButton",render:function(){return i.createElement(a,{className:"btn-delete",type:"danger",size:"xs",icon:"trash",title:"Delete",onClick:this.props.onClick,disabled:this.props.checked})}}),l=i.createClass({displayName:"MarkAsReadButton",render:function(){return i.createElement(a,{className:"btn-mark-as-read",type:"default",title:"Mark as read",size:"xs",icon:"ok",onClick:this.props.onClick})}}),f=i.createClass({displayName:"ArchiveButton",render:function(){return i.createElement(a,{className:"btn-archive",type:"default",title:"Archive",size:"xs",icon:"save-file",onClick:this.props.onClick})}});t.exports=i.createClass({displayName:"ArticleEntry",mixins:[u.PureRenderMixin],callAction:function(e){var t=this,n=void 0===arguments[1]?{}:arguments[1];return function(r){r.preventDefault(),(!n.confirm||confirm("Are you sure?"))&&o[e](t.props)}},_formattedAddedOn:function(){return new Date(this.props.added_on).toLocaleString()},render:function(){return i.createElement("div",{className:"ArticleEntry row"},i.createElement("h4",{className:"ArticleEntry__h4 col-md-12"},i.createElement("a",{href:this.props.url,onClick:this.callAction("open")},this.props.title),i.createElement("sup",null,this.props.unread?"unread":"")),i.createElement("p",{className:"ArticleEntry__info col-md-9"},"Added by "+this.props.added_by+" on "+this._formattedAddedOn()),i.createElement("div",{className:"ArticleEntry__actions col-md-3 text-right",role:"group","aria-label":"Actions"},i.createElement("div",{className:"btn-group"},i.createElement(f,{onClick:this.callAction("archive")}),i.createElement(l,{onClick:this.callAction("markAsRead")}),i.createElement(c,{onClick:this.callAction("edit")}),i.createElement(s,{onClick:this.callAction("delete",{confirm:!0})}))))}})},{"../flux":66,"./Button":61,"react/addons":"react/addons"}],58:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("react/addons")),i=e("../flux").ArticleActions,o=n(e("./Button")),u=n(e("./Panel")),a=r.createClass({displayName:"CloseButton",handleClick:function(){i.cancelEdit()},render:function(){return r.createElement(o,{type:"default",size:"xs",icon:"remove",title:"Close this form",onClick:this.handleClick})}});t.exports=r.createClass({displayName:"ArticleForm",mixins:[r.addons.LinkedStateMixin],getInitialState:function(){return{title:"",url:""}},componentWillReceiveProps:function(e){var t=e.current||this.getInitialState();this.setState({title:t.title,url:t.url})},handleSubmit:function(e){e.preventDefault();var t=Object.assign({id:this.props.current&&this.props.current.id},{title:this.state.title,url:this.state.url,added_by:"niko"});this.props.current?i.update(t):i.create(t),this.setState(this.getInitialState())},_getVerb:function(){return this.props.current?"Update":"Add"},render:function(){return this.props.show?r.createElement(u,{title:""+this._getVerb()+" an article",actionButtons:[r.createElement(a,null)]},r.createElement("form",{method:"post",onSubmit:this.handleSubmit},r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control",type:"text",placeholder:"Title",valueLink:this.linkState("title")})),r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control",type:"url",placeholder:"http://",valueLink:this.linkState("url"),disabled:!!this.props.current})),r.createElement(o,{type:"default",label:this._getVerb()}))):null}})},{"../flux":66,"./Button":61,"./Panel":63,"react/addons":"react/addons"}],59:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},i=e("react/addons"),o=n(i),u=i.addons,a=e("../flux").ArticleActions,c=e("../api").ArticleConstants,s=n(e("./ArticleEntry")),l=n(e("./Button")),f=n(e("./Panel")),d=o.createClass({displayName:"AddButton",handleAddClick:function(){a.add()},render:function(){return o.createElement(l,{className:"btn-add",type:"default",title:"Add an article",size:"xs",icon:"plus",onClick:this.handleAddClick})}}),h=o.createClass({displayName:"ImportButton",handleImportSampleClick:function(){a["import"]()},render:function(){return o.createElement(l,{className:"btn-import",type:"info",title:"Import sample articles",size:"xs",icon:"download-alt",onClick:this.handleImportSampleClick})}}),p=o.createClass({displayName:"NextPageButton",handleNextClick:function(){a.listNext()},render:function(){return o.createElement(l,{type:"info",size:"sm",icon:"chevron-right",onClick:this.handleNextClick,label:"Next"})}}),m=o.createClass({displayName:"PanelTitle",render:function(){return o.createElement("span",null,"Articles",this.props.totalRecords?o.createElement("span",{className:"badge"},this.props.totalRecords):null)}}),v=o.createClass({displayName:"FilterToggler",render:function(){var e=this;return o.createElement("div",{className:"btn-group",role:"group"},this.props.choices.map(function(t,n){return o.createElement(l,{key:n,label:t.label,size:"sm",type:e.props.valueCheck===t.value?"info":"default",onClick:e.props.changeHandler(t.value)})}))}}),y=o.createClass({displayName:"Filters",statics:{unreadChoices:[{label:"Read",value:!1},{label:"Unread",value:!0}],statusChoices:[{label:"Default",value:c.status.DEFAULT},{label:"Archived",value:c.status.ARCHIVED},{label:"Deleted",value:c.status.DELETED}]},filterClickHandler:function(e){return function(t){return function(){return a.list(r({},e,t))}}},render:function(){return o.createElement("div",{className:"list-filters"},o.createElement("div",{className:"col-xs-6 text-left"},o.createElement(v,{choices:y.unreadChoices,valueCheck:this.props.filters.unread,changeHandler:this.filterClickHandler("unread")})),o.createElement("div",{className:"col-xs-6 text-right"},o.createElement(v,{choices:y.statusChoices,valueCheck:this.props.filters.status,changeHandler:this.filterClickHandler("status")})))}});t.exports=o.createClass({displayName:"ArticleList",mixins:[u.PureRenderMixin],getDefaultProps:function(){return{filters:{}}},render:function(){var e=this,t=[o.createElement(d,null)];return this.props.articles.length||t.push(o.createElement(h,null)),o.createElement(f,{title:o.createElement(m,{totalRecords:this.props.totalRecords}),bodyWrap:!1,actionButtons:t},o.createElement("div",{className:"panel-body"},o.createElement(y,{filters:this.props.filters})),o.createElement("ul",{className:"list-group"},this.props.articles.map(function(t){var n=u.classSet({"list-group-item":!0,active:t.id===e.props.selectedId});return o.createElement("li",{key:t.id,className:n},o.createElement(s,t))})),this.props.hasNext?o.createElement("p",{className:"list-pages text-right"},o.createElement(p,null)):null,this.props.articles.length?null:o.createElement("p",{className:"list-empty text-center"},"The list is empty."))}})},{"../api":53,"../flux":66,"./ArticleEntry":57,"./Button":61,"./Panel":63,"react/addons":"react/addons"}],60:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=r(e("react/addons")),o=r(e("docbrown")),u=e("../flux"),a=u.AuthActions,c=u.stores,s=r(e("./Panel")),l=r(e("./Button")),f=n.SignIn=i.createClass({displayName:"SignIn",handleSigninClick:function(){a.signin()},render:function(){return i.createElement(l,{type:"info",label:"Sign in",onClick:this.handleSigninClick})}}),d=n.UserInfo=i.createClass({displayName:"UserInfo",handleSignoutClick:function(){a.signout()},render:function(){return i.createElement("div",null,i.createElement("p",null,"You're signed in."),i.createElement(l,{type:"danger",label:"Sign out",onClick:this.handleSignoutClick}))
}});n["default"]=i.createClass({displayName:"Auth",mixins:[o.storeMixin(c.getter("authStore"))],componentDidMount:function(){a.checkAuth()},render:function(){return i.createElement(s,{title:"Authentication"},this.state.authToken?i.createElement(d,this.state):i.createElement(f,null))}}),Object.defineProperty(n,"__esModule",{value:!0})},{"../flux":66,"./Button":61,"./Panel":63,docbrown:"docbrown","react/addons":"react/addons"}],61:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=e("react/addons"),o=n(i),u=i.addons,a=n(e("./Icon"));t.exports=o.createClass({displayName:"Button",mixins:[u.PureRenderMixin],getDefaultProps:function(){return{className:"btn",type:"default",size:"md",primary:!1}},render:function(){var e=this.props.className.split(" ").reduce(function(e,t){return e[t]=!0,e},{btn:!0});this.props.type&&(e["btn-"+this.props.type]=!0),this.props.size&&(e["btn-"+this.props.size]=!0);var t=Object.assign({},this.props,{className:o.addons.classSet(e)});return o.createElement("button",r({type:"button"},t),this.props.icon?o.createElement(a,{type:this.props.icon}):null,this.props.label?o.createElement("span",null,this.props.label):null)}})},{"./Icon":62,"react/addons":"react/addons"}],62:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("react/addons"));t.exports=r.createClass({displayName:"Icon",render:function(){return r.createElement("span",{className:"glyphicon glyphicon-"+this.props.type,"aria-hidden":"true"})}})},{"react/addons":"react/addons"}],63:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("react/addons"));t.exports=r.createClass({displayName:"Panel",getDefaultProps:function(){return{bodyWrap:!0,actionButtons:[]}},renderPanelBody:function(){return this.props.bodyWrap?r.createElement("div",{className:"panel-body"},this.props.children):this.props.children},renderActionButtons:function(){return r.createElement("div",{className:"panel-actions col-md-3 text-right"},this.props.actionButtons.reduce(function(e,t,n){return e["b"+n]=t,e},{}))},render:function(){return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("div",{className:"row"},r.createElement("h3",{className:"panel-title col-md-9"},this.props.title),this.renderActionButtons())),this.renderPanelBody())}})},{"react/addons":"react/addons"}],64:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=e("react/addons"),i=n(r),o=r.addons,u=e("../flux").ArticleActions,a=n(e("./Button")),c=n(e("./Panel")),s=i.createClass({displayName:"CloseButton",render:function(){return i.createElement(a,{type:"default",size:"xs",icon:"remove",title:"Close",className:"btn-close",onClick:this.props.onClick})}}),l=i.createClass({displayName:"MarkAsReadButton",render:function(){return i.createElement(a,{className:"btn-mark-as-read",type:"default",title:"Mark as read",size:"xs",icon:"ok",onClick:this.props.onClick})}});t.exports=i.createClass({displayName:"Viewer",mixins:[o.PureRenderMixin],getInitialState:function(){return{title:null,url:null,contents:null}},getDefaultProps:function(){return{contents:"Loading"}},handleCloseClick:function(){u.close()},handleMarkAsReadClick:function(){u.markAsRead({id:this.props.id})},_loadFromProps:function(e){this.setState({title:e.title,url:e.url,contents:e.contents})},componentDidMount:function(){this._loadFromProps(this.props)},componentWillReceiveProps:function(e){this._loadFromProps(e)},render:function(){return i.createElement(c,{title:this.props.title,actionButtons:[i.createElement(l,{onClick:this.handleMarkAsReadClick}),i.createElement(s,{onClick:this.handleCloseClick})]},this.state.contents?i.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.contents}}):null)}})},{"../flux":66,"./Button":61,"./Panel":63,"react/addons":"react/addons"}],65:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},i=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=r(e("rest")),a=r(e("rest/interceptor/mime")),c=r(e("rest/interceptor/errorCode")),s=n.DEFAULT_STORAGE_KEY_PREFIX="readinglist:article:",l=function(){function e(t){var n=void 0===arguments[1]?{debug:!1}:arguments[1];o(this,e),this.proxyServerUrl=t,this.client=n.client||this.createClient(),this.storage=n.storage||localStorage,this.keyPrefix=n.keyPrefix||s,this.debug=!!n.debug}return i(e,null,{createClient:{value:function(){return u.wrap(a,{mime:"application/json;encoding=UTF-8"}).wrap(c,{code:400})},writable:!0,configurable:!0},fetch:{value:function(e){var t=this;return this.client({path:this.proxyServerUrl,params:{url:e.url,sanitize:"yes"}}).then(function(n){var r=n&&n.entity&&n.entity.content;return t.save(e,r),r})["catch"](function(n){throw t.debug&&console.error("fetch() request error: ",n),new Error("Unable to fetch contents for "+e.title)})},writable:!0,configurable:!0},load:{value:function(e){return this.has(e)?Promise.resolve(this.storage.getItem(this.keyPrefix+e.id)):this.fetch(e)},writable:!0,configurable:!0},has:{value:function(e){return this.storage.hasOwnProperty(this.keyPrefix+e.id)},writable:!0,configurable:!0},drop:{value:function(e){this.storage.removeItem(this.keyPrefix+e.id)},writable:!0,configurable:!0},save:{value:function(e,t){"string"==typeof t&&t.length&&this.storage.setItem(this.keyPrefix+e.id,t)},writable:!0,configurable:!0}}),e}();n["default"]=l,Object.defineProperty(n,"__esModule",{value:!0})},{rest:8,"rest/interceptor/errorCode":14,"rest/interceptor/mime":16}],66:[function(e,t,n){"use strict";function r(){var e={};return{clear:function(){e={}},register:function(t){for(var n in t){if(this.has(n))throw new Error("Store "+n+" is already registered.");e[n]=t[n]}},has:function(t){return e.hasOwnProperty(t)},get:function(t){if(this.has(t))return e[t];throw new Error("No '"+t+"' store registered.")},getter:function(e){var t=this;return function(){return t.get(e)}}}}{var i=function(e){return e&&e.__esModule?e["default"]:e},o=i(e("docbrown")),u=i(e("../data/samples.json")),a=e("./api").ArticleConstants,c=n.Dispatcher=o.createDispatcher(),s=n.AuthActions=o.createActions(c,["signin","signout","checkAuth"]),l=(n.AuthStore=o.createStore({actions:[s],initialize:function(e){var t=void 0===arguments[1]?{debug:!1}:arguments[1];this.api=e,this.debug=!!t.debug,this.debug&&this.subscribe(function(e){console.info("AuthStore state changed",e)})},getInitialState:function(){return{authToken:null}},signin:function(){this.api.signinToFxA()},checkAuth:function(){this.setState({authToken:this.api.checkAuth()})},signout:function(){this.api.signout(),this.setState(this.getInitialState())}}),n.ArticleActions=o.createActions(c,["add","create","edit","cancelEdit","get","update","delete","list","listNext","import","open","close","markAsRead","archive"]));n.ArticleStore=o.createStore({actions:[l],initialize:function(e,t){var n=void 0===arguments[2]?{debug:!1}:arguments[2];this.api=e,this.contentManager=t,this.debug=!!n.debug,this.debug&&this.subscribe(function(e){console.info("ArticleStore state changed",e)}),this.clientIdentifier=n.clientIdentifier||"readinglist-client"},getInitialState:function(){return{articles:[],current:null,currentContents:null,edit:!1,error:null,errorType:null,filters:{status:"0",unread:!0},hasNext:!1,totalRecords:0}},updateArticleList:function(e){var t=e.filter(function(e){return e.status!==a.status.DELETED});this.setState({articles:t,hasNext:this.api.hasNext(),totalRecords:this.api.totalRecords})},resetError:function(){this.setState({error:null,errType:null})},setError:function(e){var t=void 0===arguments[1]?null:arguments[1];this.setState({error:e,errType:t})},add:function(){this.setState({edit:!0,current:null})},create:function(e){return this.resetError(),this.api.createArticle(e)},createSuccess:function(){l.list()},createError:function(e){this.setError(e,"create")},edit:function(e){this.setState({edit:!0,current:e})},cancelEdit:function(){this.setState({edit:!1})},get:function(e){return this.resetError(),this.api.getArticle(e)},getSuccess:function(e){this.setState({current:e})},getError:function(e){this.setError(e,"get")},update:function(e){return this.setState({edit:!1}),this.resetError(),this.api.updateArticle(e)},updateError:function(e){this.setError(e,"update")},updateSuccess:function(e){this.setState({edit:!1,current:e}),l.list()},"delete":function(e){return this.resetError(),this.api.deleteArticle(e)},deleteSuccess:function(e){var t=this.state.current||{};t.id===e.id&&this.setState({current:null,edit:!1}),this.contentManager.drop(e),l.list()},deleteError:function(e){this.setError(e,"delete")},list:function(){var e=void 0===arguments[0]?{}:arguments[0];return this.resetError(),this.setState({filters:Object.assign({},this.state.filters,e)}),this.api.listArticles(this.state.filters)},listSuccess:function(e){this.updateArticleList(e)},listError:function(e){this.setError(e,"list")},listNext:function(){return this.resetError(),this.api.listNext()},listNextSuccess:function(e){this.updateArticleList(e)},listNextError:function(e){this.setError(e,"listNext")},"import":function(){this.resetError();var e=this.api.createBatch();return e.createArticle.apply(e,u).process()},importSuccess:function(e){var t=this;e.responses.forEach(function(e){t.debug&&console.log("imported",e.body.title,"HTTP",e.status)}),l.list()},importError:function(e){this.setError(e,"import")},open:function(e){return this.resetError(),this.setState({edit:!1,current:e,currentContents:null}),this.contentManager.load(e)},openSuccess:function(e){this.setState({currentContents:e})},openError:function(e){this.setError(e,"open")},close:function(){this.setState({current:null,currentContents:null})},markAsRead:function(e){return this.api.updateArticle({id:e.id,unread:!1,marked_read_by:this.clientIdentifier,marked_read_on:(new Date).getTime()})},markAsReadSuccess:function(){l.list()},markAsReadError:function(e){this.setError(e,"markAsRead")},archive:function(e){return this.api.updateArticle({id:e.id,status:a.status.ARCHIVED})},archiveSuccess:function(){l.list()},archiveError:function(e){this.setError(e,"archive")}}),n.stores=new r}Object.defineProperty(n,"__esModule",{value:!0})},{"../data/samples.json":52,"./api":53,docbrown:"docbrown"}]},{},[1]);